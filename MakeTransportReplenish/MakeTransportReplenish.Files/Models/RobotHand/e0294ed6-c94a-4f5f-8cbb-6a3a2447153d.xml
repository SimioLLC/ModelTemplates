<Fragment>
  <Compatibility ParseElementFunctionsInExpressionsLast="True" ParseNonEntityAssociatedObjectForPropertyReference="False" AllowInteractiveEntryOfNonStandardElementNames="False" ParsePropertiesForObjectTypeForAutoCreatedObjectsFirst="False" />
  <ChangeDescriptions>
    <ChangeDescription Version="74">Version 2.36: Updated the Vehicle object to provide a ResourceState state variable tracking Idle, Busy, and Failed states (and statistics). Additionally, an 'On Demand' routing type vehicle may now be used as a moveable resource that is seized and released for tasks by model process logic. Significant changes to the Vehicle object's process logic were made to support these new features. An obsoleted 'IsIdle' state variable and 'RideReserved' event were also removed.</ChangeDescription>
    <ChangeDescription Version="75">Version 2.38: Updated the Vehicle object to fix a bug where the vehicle's process logic sometimes hung if using the 'Loaded' or 'Unloaded' add-on process trigger features. This fix to the Vehicle process logic involved adding a Math.Epsilon delay into the 'OnRiderLoading' and 'OnRiderUnloading' processes.</ChangeDescription>
    <ChangeDescription Version="76">Version 2.39: Updated the Vehicle object process logic to specify all of the object's process delays as non-interruptible.</ChangeDescription>
    <ChangeDescription Version="94">Version 2.40: The 'Transport Logic' property category is now first in the category display order in the Properties Window. The 'None' Idle Action option was renamed to 'Remain In Place'. The display name for the EvaluatingAllocationAddOnProcess property was changed to 'Evaluating Seize Request'. The display name for the EvaluatingRiderAddOnProcess was changed to 'Evaluating Transport Request'. The 'Network' and 'Desired Speed' property display names were changed to 'Initial Network' and 'Initial Desired Speed' respectively. New 'Allocated' and 'Released' add-on process triggers were added and the 'Allocated' and 'Released' events fired by the vehicle were made public. Added a new 'Allocated' public process. Added 'Transporting' and 'FailedBusy' state values to the object's ResourceState state variable. Restructured the failure-related process logic. In the object process logic, the 'Action' property for all Execute steps executing an 'add-on process' is now specified as 'WaitUntilCompleted'.</ChangeDescription>
    <ChangeDescription Version="95">Version 2.41: Added customized resource utilization calculation for the object using its 'ResourceState' list state.</ChangeDescription>
    <ChangeDescription Version="96">Version 3.42: Changes related to setting the 'Token Associated Object Destroyed Action' option for process logic in this object.</ChangeDescription>
    <ChangeDescription Version="99">Version 3.43: Updated the Vehicle object's OnVisitingNode process logic to now include a SelectVisit step attempt that searches for an accepted visit request (either a transport pickup or a seize visit) before considering the vehicle as 'Idle'. Also, if the vehicle resource is released from transporting activity and then immediately reseized, added some decision logic to account for possibility of the new Seize requesting a visit to the same node destination as the vehicle's current node.</ChangeDescription>
    <ChangeDescription Version="100">Version 3.44: 'SeizedObjects.UnitsOwned' function renamed to 'SeizedObjects.CapacityUnitsOwned'.</ChangeDescription>
    <ChangeDescription Version="103">Version 3.45: A Vehicle object in the 'Transporting' state will now accept multiple transport reservation requests up to its ride capacity if the request(s) originate from the same pickup location that the vehicle is already traveling to.</ChangeDescription>
    <ChangeDescription Version="104">Version 3.46: Removed special-casing of ride capacity '1' in the vehicle's OnVisitingNode process to allow dynamic assignments of the vehicle's ride capacity to consistently work as expected.</ChangeDescription>
    <ChangeDescription Version="107">Version 3.47: Updated the Vehicle object's process logic to handle the scenario where, if the vehicle has picked up a rider who did not make a reservation, the vehicle will still accept multiple transport reservation requests up to its ride capacity while at the same pickup point. A vehicle object also now always immediately goes into the Transporting state if picking up an unreserved rider. Added new 'Appearance' property category.</ChangeDescription>
    <ChangeDescription Version="112">Version 3.49: Specified the 'OnAssociatedObjectTransferRequested' property of some processes as 'EndProcess'. The 'Exiting Node' add-on process trigger is now also called when the Worker is exiting a node by parking in the node's parking station. Added new 'Park While Busy' and 'Park to Load/Unload' properties.</ChangeDescription>
    <ChangeDescription Version="113">Version 3.52: If the model's 'Disable Randomness' option is being used, the object's 'Reliability Logic' is now automatically disabled to not generate any failure occurrences.</ChangeDescription>
    <ChangeDescription Version="116">Version 3.53: Conversion to 'OnEvaluatingMoveRequest' and 'OnMoveRequestAccepted' standard interface processes. Added vehicle support to allow multiple move requests by an owning entity.</ChangeDescription>
    <ChangeDescription Version="120">Version 3.54: Usage of 'Run.RandomnessDisabled' function instead of deprecated 'DisableRandomness' function. Added new Notify step to 'OnCapacityChanged' process to output a warning if the vehicle's resource capacity is assigned a value other than 1. Conversion to 'OnRunInitialized' standard interface process. Added 'Run Ending' add-on process trigger.</ChangeDescription>
    <ChangeDescription Version="121">Version 3.55: Conversion to 'OnRiderReservationAccepted' standard interface process.</ChangeDescription>
    <ChangeDescription Version="122">Version 3.56: Conversion to 'OnEvaluatingSeizeRequest' standard interface process.</ChangeDescription>
    <ChangeDescription Version="124">Version 3.57: OnRunInitialized logic change - Never try to unpark vehicle if not parked. Removed some unnecessary Wait steps from the 'OnVisitingNode' process logic.</ChangeDescription>
    <ChangeDescription Version="130">Version 4.58: OnVisitingNode process logic - After arriving to the destination of a requested move, check the vehicle's visit request queue for additional accepted move requests. OnRunInitialized process logic - After parking at the initial node, do a PlanVisit step to check for initial move or transport requests. 'Dynamic Objects' property category renamed to 'Population'. Added new 'Advanced Options' property category.</ChangeDescription>
    <ChangeDescription Version="131">Version 4.59: Process logic now uses new entity 'CurrentNode' and 'DestinationNode' object reference functions instead of deprecated 'CurrentNodeID' and 'DestinationNodeID' functions.</ChangeDescription>
    <ChangeDescription Version="132">Version 4.60: Process logic now uses new object 'SeizedResources.CapacityUnitsOwned' function instead of deprecated 'SeizedObjects.CapacityUnitsOwned'.</ChangeDescription>
    <ChangeDescription Version="134">Version 4.61: Added new 'Financials' property category.</ChangeDescription>
    <ChangeDescription Version="135">Version 4.62: Added new 'Financials-&gt;Transport Costs' property category.</ChangeDescription>
    <ChangeDescription Version="138">Version 4.63: Reordered the position of the 'Financials' property category.  Added new 'Financials-&gt;Resource Costs' property category.</ChangeDescription>
    <ChangeDescription Version="145">Version 4.65: Process logic now uses new object 'SeizedResources.CapacityOwnedOf' function instead of deprecated 'SeizedResources.CapacityUnitsOwned'. Private 'HomeNodeID' state variable replaced by new Public 'HomeNode' node reference state variable. Private 'IgnoredDestinationNodeID' state variable replaced by new Private boolean 'IgnoreVisitingCurrentNode' state variable assignment. 'Repairing' add-on process trigger marked as obsolete and is no longer displayed in the Properties window if not previously defined.</ChangeDescription>
    <ChangeDescription Version="146">Version 4.66: Added Work Schedule support.</ChangeDescription>
    <ChangeDescription Version="149">Version 4.68: Renamed 'InitializedAddOnProcess' property to 'RunInitializedAddOnProcess'. Renamed 'EvaluatingAllocationAddOnProcess' property to 'EvaluatingSeizeRequestAddOnProcess'. Renamed 'EvaluatingRiderAddOnProcess' property to 'EvaluatingTransportRequestAddOnProcess'. Renamed 'Process Logic' property category to 'Resource Logic'.</ChangeDescription>
    <ChangeDescription Version="151">Version 4.71: Process logic now uses new transporter 'RideStationLoad' function instead of deprecated 'RideCapacityRemaining'. Renamed 'EventName' property to 'FailureEventName'.</ChangeDescription>
    <ChangeDescription Version="163">Version 4.73: New 'Minimum Dwell Time' related features now available in the 'Transport Logic' category. In the process logic, removed the 'RiderPickupsFinished' event and the 'OnRiderReservationsPickedUp' process which was triggered by that event.</ChangeDescription>
    <ChangeDescription Version="164">Version 4.74: If dwelling due to minimum dwell time requirement, and the vehicle goes off-shift, the 'Dwell Only If' condition is now rechecked.</ChangeDescription>
    <ChangeDescription Version="182">Version 4.75: Added 'OnEnteredFreeSpace' process logic to support free space travel.</ChangeDescription>
    <ChangeDescription Version="183">Version 4.76: Updates required due to Suspend &amp; Resume step enhancements.</ChangeDescription>
    <ChangeDescription Version="184">Version 5.80: Fixed Route Vehicle - 'Minimum Dwell Time' option related bug fix.</ChangeDescription>
    <ChangeDescription Version="185">Version 5.87: Process logic now uses new property 'HasValue' function instead of deprecated 'IsDefined'.</ChangeDescription>
    <ChangeDescription Version="186">Version 5.88: If the 'Minimum Dwell Time' feature is being used, by default the vehicle will now dwell at a node only if the node is a TransferNode with its RideOnTransporter property set to 'True'.</ChangeDescription>
    <ChangeDescription Version="187">Version 5.90: Some simplification of the vehicle's 'OnEnteredFreeSpace' process logic.</ChangeDescription>
    <ChangeDescription Version="189">Version 5.91: Fixed issues assigning a correct value to the vehicle's 'OnEvaluatingRiderAtPickup.Enabled' state. Added information to indicate which properties to display if the new 'Show Commonly Used Properties Only' option is enabled.</ChangeDescription>
    <ChangeDescription Version="190">Version 5.92: Fixed issues assigning the resource state of a fixed route vehicle if using both work schedule and failure related features.</ChangeDescription>
    <ChangeDescription Version="192">Version 5.95: Updates to the 'OnCapacityChanged' process logic.</ChangeDescription>
    <ChangeDescription Version="193">Version 6.101: Minor edit to the 'OnVisitingNode' process logic. The 'IfParked' Decide step right before attempting to dropoff/pickup riders was changed to 'IfParking' for improved process logic readability.</ChangeDescription>
    <ChangeDescription Version="194">Version 6.103: Some property description updates.</ChangeDescription>
    <ChangeDescription Version="195">Version 6.112: If a fixed route vehicle goes offshift while there are still outstanding ride pickup reservations or while an entity is being loaded, then the vehicle now goes into the 'OffShiftTransporting' state instead of 'OffShift'.</ChangeDescription>
    <ChangeDescription Version="197">Version 7.121: 'OnVisitingNode' process logic - When released from a processing task, if the vehicle has been kept reserved then delay the executing token for an epsilon time before checking whether to exit the current node, to allow for possible new tasks at the same node.</ChangeDescription>
    <ChangeDescription Version="205">Version 7.122: Simplification of the 'OnEvaluatingSeizeRequest' process logic - The Simio engine now automatically ignores checking this decision process if the vehicle is trying to seize itself. 'OnVisitingNode' process logic - After attempting transport dropoffs and pickups, if the vehicle has been kept as a reserved resource then delay the executing token for an epsilon time before potentially performing any idle actions, to allow for possible new tasks at the same node.'OnRiderUnloading' process logic replaced by new 'OnRiderUnloaded' standard interface process, plus related changes to affected portions of the 'OnVisitingNode' process logic. These changes were made to better support the use of the vehicle if being kept as a reserved transport resource.</ChangeDescription>
    <ChangeDescription Version="210">Version 7.123: Added 'OnCapacityReservationCancelled' &amp; 'OnNewSeizeRequest' process logic. 'Allocate', 'Pickup', 'Dropoff', and 'PlanVisit' processes moved to 'Obsolete Processes' category.</ChangeDescription>
    <ChangeDescription Version="211">Version 7.126: 'OnRiderLoaded' process now a standard interface process automatically called by the engine.</ChangeDescription>
    <ChangeDescription Version="213">Version 7.127: Updates to support new 'Release Quantity Type' property on Release step.</ChangeDescription>
    <ChangeDescription Version="214">Version 7.130: Added 'Advanced Options -&gt; Obsolete Properties' property category.</ChangeDescription>
    <ChangeDescription Version="215">Version 7.134: New 'Travel Logic -&gt; Free Space Steering Behavior' property.</ChangeDescription>
  </ChangeDescriptions>
  <ChangeStringReplacements>
    <ChangeStringReplacement Version="149" RegularExpressionPattern="(^|[^\w_])(?i:InitializedAddOnProcess)([^\w_]|$)" ReplacementString="$1RunInitializedAddOnProcess$2" />
    <ChangeStringReplacement Version="149" RegularExpressionPattern="(^|[^\w_])(?i:EvaluatingRiderAddOnProcess)([^\w_]|$)" ReplacementString="$1EvaluatingTransportRequestAddOnProcess$2" />
    <ChangeStringReplacement Version="149" RegularExpressionPattern="(^|[^\w_])(?i:EvaluatingAllocationAddOnProcess)([^\w_]|$)" ReplacementString="$1EvaluatingSeizeRequestAddOnProcess$2" />
  </ChangeStringReplacements>
  <Lists>
    <StringList Name="RobotHandMinimumDwellTimeType">
      <Items>
        <Item Value="NoRequirement" />
        <Item Value="SpecificTime" />
        <Item Value="DwellUntilEvent" />
        <Item Value="DwellUntilFull" />
      </Items>
    </StringList>
    <StringList Name="FreeSpaceSteeringBehaviorType">
      <Items>
        <Item Value="DirectToDestination" />
        <Item Value="FollowNetworkPathIfPossible" />
      </Items>
    </StringList>
    <StringList Name="RobotHandRoutingType">
      <Items>
        <Item Value="OnDemand" />
        <Item Value="FixedRoute" />
      </Items>
    </StringList>
    <StringList Name="RobotHandIdleAction">
      <Items>
        <Item Value="ParkAtNode" />
        <Item Value="ParkAtHome" />
        <Item Value="Roam" />
        <Item Value="GoToHome" />
        <Item Value="None" />
      </Items>
    </StringList>
    <StringList Name="RobotHandOffShiftAction">
      <Items>
        <Item Value="ParkAtNode" />
        <Item Value="ParkAtHome" />
        <Item Value="GoToHome" />
        <Item Value="None" />
      </Items>
    </StringList>
    <StringList Name="RobotHandFailureType">
      <Items>
        <Item Value="NoFailures" />
        <Item Value="CalendarTimeBased" />
        <Item Value="EventCountBased" />
      </Items>
    </StringList>
    <StringList Name="ResourceStateName">
      <Items>
        <Item Value="Idle" />
        <Item Value="Busy" />
        <Item Value="Blocked" />
        <Item Value="Failed" />
        <Item Value="OffShift" />
        <Item Value="FailedBusy" />
        <Item Value="OffShiftBusy" />
        <Item Value="Transporting" />
        <Item Value="FailedTransporting" />
        <Item Value="OffShiftTransporting" />
      </Items>
    </StringList>
    <StringList Name="TravelModes">
      <Items>
        <Item Value="FixedHeight" />
        <Item Value="Direct" />
      </Items>
    </StringList>
  </Lists>
  <PropertyDefinitions>
    <Categories>
      <Category Name="Transport Logic" Description="Transport Logic" />
      <Category Name="Travel Logic" Description="Travel Logic" />
      <Category Name="Routing Logic" Description="Routing Logic" />
      <Category Name="Resource Logic" Description="Resource Logic" InitiallyExpanded="False" />
      <Category Name="Reliability Logic" Description="Reliability Logic" InitiallyExpanded="False" />
      <Category Name="Financials" Description="Financials" InitiallyExpanded="False" />
      <Category Name="Financials/Transport Costs" Description="Transport Costs" InitiallyExpanded="False" />
      <Category Name="Financials/Resource Costs" Description="Resource Costs" InitiallyExpanded="False" />
      <Category Name="Add-On Process Triggers" Description="Add-On Process Triggers" InitiallyExpanded="False" />
      <Category Name="Population" Description="Population" InitiallyExpanded="False" />
      <Category Name="Advanced Options" Description="Advanced Options" InitiallyExpanded="False" />
      <Category Name="Advanced Options/Obsolete Properties" Description="Advanced Options/Obsolete Properties" InitiallyExpanded="False" />
    </Categories>
    <BooleanProperty Name="ParkWhileBusy" DisplayName="Park While Busy" Description="Indicates whether this RobotHand should park while busy at a node due to a seize request. Parking a RobotHand can be useful to avoid blocking other travelers on the network." Visible="False" ComplexityLevel="Advanced" Category="Resource Logic" DefaultValue="False" NullString="null" />
    <EnumProperty Name="TaskSelectionStrategy" DisplayName="Task Selection Strategy" Description="The strategy used by the RobotHand to select its next transport pickup or dropoff task." ComplexityLevel="Advanced" Category="Transport Logic" DefaultValue="First In Queue" NullString="null" EnumType="TripSelectionGoal">
      <Captions>
        <Caption Value="SmallestDistance" Display="Smallest Distance" />
        <Caption Value="LargestDistance" Display="Largest Distance" />
        <Caption Value="SmallestPriority" Display="Smallest Priority" />
        <Caption Value="LargestPriority" Display="Largest Priority" />
        <Caption Value="FirstInQueue" Display="First In Queue" />
      </Captions>
    </EnumProperty>
    <ExpressionProperty Name="LoadTime" DisplayName="Load Time" Description="The time required for this RobotHand object to load an entity (i.e., the load time per entity)." ComplexityLevel="Advanced" Category="Transport Logic" DefaultValue="0.0" NullString="null" UnitType="Time" DefaultUnits="Minutes" />
    <ExpressionProperty Name="UnloadTime" DisplayName="Unload Time" Description="The time required for this RobotHand to unload an entity (i.e., the unload time per entity)." ComplexityLevel="Advanced" Category="Transport Logic" DefaultValue="0.0" NullString="null" UnitType="Time" DefaultUnits="Minutes" />
    <BooleanProperty Name="ParkToLoadUnload" DisplayName="Park to Load/Unload" Description="Indicates whether this RobotHand should park to load and unload entities at a node. Parking a RobotHand can be useful to avoid blocking other travelers on the network." Visible="False" ComplexityLevel="Advanced" Category="Transport Logic" DefaultValue="False" NullString="null" />
    <ListProperty Name="MinimumDwellTimeType" DisplayName="Minimum Dwell Time Type" Description="Specifies the minimum dwell time requirement for this RobotHand when loading and unloading entities at a node. A 'minimum dwell time' is a minimum amount of time the RobotHand is required to wait, or 'dwell', at a node to load and unload entities." ComplexityLevel="Advanced" Category="Transport Logic" DefaultValue="No Requirement" NullString="null" List="RobotHandMinimumDwellTimeType">
      <Captions>
        <Caption Value="NoRequirement" Display="No Requirement" />
        <Caption Value="SpecificTime" Display="Specific Time" />
        <Caption Value="DwellUntilEvent" Display="Dwell Until Event" />
        <Caption Value="DwellUntilFull" Display="Dwell Until Full" />
      </Captions>
    </ListProperty>
    <ExpressionProperty Name="MinimumDwellTime" DisplayName="Minimum Dwell Time" Description="The specific minimum amount of time that this RobotHand is required to wait, or 'dwell', at a node to load and unload entities." ComplexityLevel="Advanced" Category="Transport Logic" DefaultValue="0.0" Parent="MinimumDwellTimeType" NullString="null" UnitType="Time">
      <Switch Property="MinimumDwellTimeType" Value="SpecificTime" />
    </ExpressionProperty>
    <EventProperty Name="MinimumDwellTimeExpirationEventName" DisplayName="Event Name" Description="The name of the event whose occurrence will indicate the expiration of the minimum wait time requirement for this RobotHand when loading and unloading entities at a node." ComplexityLevel="Advanced" Category="Transport Logic" Parent="MinimumDwellTimeType" NullString="null">
      <Switch Property="MinimumDwellTimeType" Value="DwellUntilEvent" />
    </EventProperty>
    <ExpressionProperty Name="MinimumDwellTimeCondition" DisplayName="Dwell Only If" Description="If specified, this condition will be used to indicate whether the RobotHand must respect the minimum dwell time at a node if that requirement has not yet expired, thereby forcing the RobotHand to wait, or 'dwell', at the node for possible additional loads.&#xD;&#xA;&#xD;&#xA;Example uses of this property might include allowing the RobotHand to exit a node before the minimum dwell time has expired if the RobotHand has reached full ride capacity, or if there is little to no chance of additional loads. Another example condition might be to only respect the minimum dwell time requirement if the RobotHand is at a node meeting some specific criteria." ComplexityLevel="Advanced" Category="Transport Logic" DefaultValue="Math.If($(DefinitionName).CurrentNode.Is.TransferNode, $(DefinitionName).CurrentNode.TransferNode.RideOnTransporter, False) &amp;&amp; ($(DefinitionName).RideStation.Capacity &gt; $(DefinitionName).RideStationLoad) &amp;&amp; ($(DefinitionName).ResourceState == 7)" Required="False" Parent="MinimumDwellTimeType" NullString="null">
      <Switch Property="MinimumDwellTimeType" Comparison="NotEqual" Value="NoRequirement" />
    </ExpressionProperty>
    <ListProperty Name="FreeSpaceSteeringBehavior" DisplayName="Free Space Steering Behavior" Description="The behavior used to steer an entity of this type when traveling in free space to a destination.&#xD;&#xA;&#xD;&#xA;'Direct To Destination' will steer an entity in a straight line to its destination.&#xD;&#xA;&#xD;&#xA;'Follow Network Path If Possible' will prefer to steer an entity along a path following its currently assigned network, staying within the boundaries of the drawn path width. However, if no followable network path exists to the entity's destination then the entity will be steered in a straight line. Note: In order to use this steering behavior, make sure the entity's travel mode is set to 'Free Space Only'." Visible="False" ComplexityLevel="Advanced" Category="Travel Logic" DefaultValue="Direct To Destination" NullString="null" List="FreeSpaceSteeringBehaviorType">
      <Captions>
        <Caption Value="DirectToDestination" Display="Direct To Destination" />
        <Caption Value="FollowNetworkPathIfPossible" Display="Follow Network Path If Possible" />
      </Captions>
    </ListProperty>
    <ExpressionProperty Name="FreeSpaceSteeringUpdateInterval" DisplayName="Update Interval" Description="The time interval between steering adjustments to maintain adherence to the network path and avoid collisions." Visible="False" ComplexityLevel="Advanced" Category="Travel Logic" DefaultValue="0.25" Parent="FreeSpaceSteeringBehavior" NullString="null" UnitType="Time" DefaultUnits="Seconds">
      <Switch Property="FreeSpaceSteeringBehavior" Value="FollowNetworkPathIfPossible" />
    </ExpressionProperty>
    <BooleanProperty Name="FreeSpaceSteeringAvoidCollisions" DisplayName="Avoid Collisions" Description="Indicates whether the steering behavior will attempt to avoid collisions with other entities that are following the same network path." Visible="False" ComplexityLevel="Advanced" Category="Travel Logic" DefaultValue="False" Parent="FreeSpaceSteeringBehavior" NullString="null">
      <Switch Property="FreeSpaceSteeringBehavior" Value="FollowNetworkPathIfPossible" />
    </BooleanProperty>
    <ListProperty Name="RoutingType" DisplayName="Routing Type" Description="Specifies the routing behavior of this RobotHand. If 'On Demand', then the RobotHand will route to locations on the network according to visit requests. An 'on demand' RobotHand may also be used as a moveable resource that is seized and released for non-transport related tasks by model process logic. If 'Fixed Route', then the RobotHand will follow a fixed route sequence to transport riders and will only load and unload entities at locations on the specified route." Visible="False" Category="Routing Logic" DefaultValue="On Demand" NullString="null" List="RobotHandRoutingType">
      <Captions>
        <Caption Value="OnDemand" Display="On Demand" />
        <Caption Value="FixedRoute" Display="Fixed Route" />
      </Captions>
    </ListProperty>
    <SequenceProperty Name="RouteSequence" DisplayName="Route Sequence" Description="The sequence table that defines the route sequence that this RobotHand will loop." Category="Routing Logic" NullString="null">
      <Switch Property="RoutingType" Value="FixedRoute" />
    </SequenceProperty>
    <ListProperty Name="IdleAction" DisplayName="Idle Action" Description="The acction of this Robot when it does not have any tasks to perform." ComplexityLevel="Advanced" Category="Routing Logic" DefaultValue="Remain In Place" NullString="null" List="RobotHandIdleAction">
      <Switch Property="RoutingType" Value="OnDemand" />
      <Captions>
        <Caption Value="ParkAtNode" Display="Park At Node" Visible="False" />
        <Caption Value="ParkAtHome" Display="Park At Home" Visible="False" />
        <Caption Value="Roam" Visible="False" />
        <Caption Value="GoToHome" Display="Go To Home" />
        <Caption Value="None" Display="Remain In Place" />
      </Captions>
    </ListProperty>
    <ListProperty Name="OffShiftAction" DisplayName="Off Shift Action" Description="The action of this RobotHand object when it goes 'off shift'. Note that, if the RobotHand is busy or transporting when an off shift period begins, then this action will be taken when the RobotHand is released from (i.e., finishes) the remaining tasks." Visible="False" ComplexityLevel="Advanced" Category="Routing Logic" DefaultValue="Park At Node" NullString="null" List="RobotHandOffShiftAction">
      <Captions>
        <Caption Value="ParkAtNode" Display="Park At Node" Visible="False" />
        <Caption Value="ParkAtHome" Display="Park At Home" Visible="False" />
        <Caption Value="GoToHome" Display="Go To Home" />
        <Caption Value="None" Display="Remain In Place" />
      </Captions>
    </ListProperty>
    <ListProperty Name="FailureType" DisplayName="Failure Type" Description="Specifies whether this RobotHand has failures that affect the its availability, and the method used to trigger the failure occurrences." Visible="False" ComplexityLevel="Advanced" Category="Reliability Logic" DefaultValue="No Failures" NullString="null" List="RobotHandFailureType">
      <Captions>
        <Caption Value="NoFailures" Display="No Failures" />
        <Caption Value="CalendarTimeBased" Display="Calendar Time Based" />
        <Caption Value="EventCountBased" Display="Event Count Based" />
      </Captions>
    </ListProperty>
    <EventProperty Name="FailureEventName" DisplayName="Event Name" Description="The name of the event whose occurrences determine when the next failure occurs." Visible="False" ComplexityLevel="Advanced" Category="Reliability Logic" NullString="null">
      <Switch Property="FailureType" Value="EventCountBased" />
    </EventProperty>
    <ExpressionProperty Name="CountBetweenFailures" DisplayName="Count Between Failures" Description="The event count between failure occurrences." Visible="False" ComplexityLevel="Advanced" Category="Reliability Logic" DefaultValue="Random.Uniform(100,200)" NullString="null">
      <Switch Property="FailureType" Comparison="GreaterThan" Value="CalendarTimeBased" />
    </ExpressionProperty>
    <ExpressionProperty Name="UptimeBetweenFailures" DisplayName="Uptime Between Failures" Description="The uptime between failure occurrences." Visible="False" ComplexityLevel="Advanced" Category="Reliability Logic" DefaultValue="Random.Exponential(100)" NullString="null" UnitType="Time">
      <Switch Property="FailureType" Value="CalendarTimeBased" />
    </ExpressionProperty>
    <ExpressionProperty Name="TimeToRepair" DisplayName="Time To Repair" Description="The time required to repair a failure when one occurs." Visible="False" ComplexityLevel="Advanced" Category="Reliability Logic" DefaultValue="Random.Triangular(0.5,1.0,1.5)" NullString="null" UnitType="Time">
      <Switch Property="FailureType" Comparison="NotEqual" Value="NoFailures" />
    </ExpressionProperty>
    <ElementProperty Name="RunInitializedAddOnProcess" DisplayName="Run Initialized" Description="Occurs when the simulation run is initialized." ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ElementProperty Name="RunEndingAddOnProcess" DisplayName="Run Ending" Description="Occurs when the simulation run is ending." ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ElementProperty Name="AllocatedAddOnProcess" DisplayName="Allocated" Description="Occurs when this RobotHand resource has been allocated to perform some transport tasks, or when another object has seized this RobotHand resource for some non-transport related tasks." ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ElementProperty Name="ReleasedAddOnProcess" DisplayName="Released" Description="Occurs when this RobotHand resource has been released (freed) after completing a set of transport tasks, or when another object has released this RobotHand resource from some non-transport related tasks." ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ElementProperty Name="FailedAddOnProcess" DisplayName="Failed" Description="Occurs when this object has failed." Visible="False" ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ElementProperty Name="RepairedAddOnProcess" DisplayName="Repaired" Description="Occurs when a failure is repaired at this object." Visible="False" ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ElementProperty Name="EnteredNodeAddOnProcess" DisplayName="Entered Node" Description="Occurs when this RobotHand object has entered a node's crossing area, including occurrences when the RobotHand object has entered by unparking from a node's parking station." ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ElementProperty Name="UnloadedAddOnProcess" DisplayName="Unloaded" Description="Occurs after an entity has been unloaded from this RobotHand." ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ElementProperty Name="LoadedAddOnProcess" DisplayName="Loaded" Description="Occurs after an entity has been loaded onto this RobotHand." ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ElementProperty Name="ExitingNodeAddOnProcess" DisplayName="Exiting Node" Description="Occurs when this RobotHand object is about to begin exiting a node's crossing area, including occurrences when the RobotHand is exiting by parking in a node's parking station." ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ElementProperty Name="EvaluatingTransportRequestAddOnProcess" DisplayName="Evaluating Transport Request" Description="Occurs when this RobotHand object is evaluating whether to accept or reject a transport request from a potential rider. In the executed decision process, assigning a value less than or equal to 0.0 to the executing token's ReturnValue state indicates that the transport request is rejected." ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ElementProperty Name="EvaluatingSeizeRequestAddOnProcess" DisplayName="Evaluating Seize Request" Description="Occurs when an 'On Demand' routing type RobotHand is evaluating whether to accept or reject a request from another object to seize the RobotHand resource. In the executed decision process, assigning a value less than or equal to 0.0 to the executing token's ReturnValue state indicates that the seize request is rejected." Visible="False" ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ElementProperty Name="OnShiftAddOnProcess" DisplayName="On Shift" Description="Occurs when the object goes 'on shift' because of its specified work schedule." Visible="False" ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ElementProperty Name="OffShiftAddOnProcess" DisplayName="Off Shift" Description="Occurs when the object goes 'off shift' because of its specified work schedule." Visible="False" ComplexityLevel="Advanced" Category="Add-On Process Triggers" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ExpressionProperty Name="CapitalCostPerVehicle" DisplayName="Capital Cost Per Vehicle" Description="The initial one-time setup cost to add a vehicle of this type to the system." ComplexityLevel="Advanced" Category="Financials" DefaultValue="0.0" NullString="null" UnitType="Currency" />
    <ElementProperty Name="RepairingAddOnProcess" DisplayName="Repairing" Description="Occurs when the repair time for a failure at this object is about to begin.&#xD;&#xA;&#xD;&#xA;NOTE: This property is obsolete. Use the 'Add-On Process Triggers -&gt; Failed' property instead." ComplexityLevel="Advanced" Category="Advanced Options/Obsolete Properties" Required="False" NullString="null" ValueListFilter="UserExecutableProcessesOnly" Type="Process" />
    <ExpressionProperty Name="TravelPitchAngle" DisplayName="Travel Pitch Angle" Description="The pitch angle for the Robot's end effector relative to the floor when travelling." Category="Travel Logic" DefaultValue="0.0" NullString="null" />
    <ExpressionProperty Name="PitchChangeRate" DisplayName="Pitch Change Rate" Description="The pitch change rate of the end effector in degrees per second." Category="Travel Logic" DefaultValue="2.0" NullString="null" />
    <ExpressionProperty Name="LoadingPitchAngle" DisplayName="Loading Pitch Angle" Description="The pitch angle of the end effector relative to the floor during loading (pickup) of an entity." Category="Transport Logic" DefaultValue="0.0" NullString="null" />
    <ExpressionProperty Name="UnloadingPitchAngle" DisplayName="Unloading Pitch Angle" Description="The pitch angle of the end effector relative to the floor during unloading (drop off) of an entity." ComplexityLevel="Advanced" Category="Transport Logic" DefaultValue="0.0" NullString="null" />
    <RealProperty Name="UpperJointOffset" DisplayName="Upper Joint Length Offset" Description="The offset of the interior RobotUpperArm attachment joint measured outward from the start of the robot." ComplexityLevel="Advanced" Category="Joint Geometry" DefaultValue="0.05" NullString="null" UnitType="Length" />
    <Overrides>
      <Override Name="ParentCostCenter" Visible="True" Description="The parent cost center that costs charged, or accrued, to vehicles of this type are rolled up into. If a parent cost center is not explicitly specified, then costs accrued to a vehicle will be automatically rolled up into the parent object that contains the vehicle's current location." />
      <Override Name="InitialCost" Visible="False" />
      <Override Name="InitialCostRate" Visible="False" />
      <Override Name="ResourceIdleCostRate" Visible="True" Description="The cost per unit time charged, or accrued, to the cost of a vehicle of this type when it is idle." />
      <Override Name="ResourceCostPerUse" Visible="True" Description="The one-time cost that is accrued each time a vehicle of this type is used for a non-transport task, regardless of the usage duration. This cost will be charged to the cost of the owner object (i.e., task) using the vehicle." />
      <Override Name="ResourceUsageCostRate" Visible="True" Description="The cost per unit time to use a vehicle of this type for a non-transport task. This cost will be charged to the cost of the owner object (i.e., task) using the vehicle." />
      <Override Name="LogResourceUsage" Visible="True" />
      <Override Name="DisplayCategory" Visible="True" />
      <Override Name="DisplayColor" Visible="True" />
      <Override Name="IncludeInPlanResourceConstraints" Visible="True" />
      <Override Name="CapacityType" Visible="False" Description="The availability of this vehicle type to perform tasks. 'Fixed' indicates that this type of vehicle is always available. 'WorkSchedule' indicates that each vehicle of this type follows a work schedule defining its 'On-shift, Off-shift' availability over time." Category="Resource Logic" ComplexityLevel="Advanced" />
      <Override Name="InitialWorkSchedule" Visible="True" Description="The name of the schedule that defines the 'On-shift, Off-shift' availability of this type of vehicle over time." Category="Resource Logic" ComplexityLevel="Advanced" />
      <Override Name="WorkDayExceptions" Visible="True" />
      <Override Name="WorkPeriodExceptions" Visible="True" />
      <Override Name="InitialCapacity" Visible="False" DefaultValue="1" ComplexityLevel="Advanced" />
      <Override Name="RankingRule" Visible="True" Description="The static ranking rule used to order requests waiting to seize this Vehicle object for a process task. Note: This feature only applies to an 'On Demand' routing type vehicle." Category="Resource Logic" ComplexityLevel="Advanced" />
      <Override Name="RankingExpression" Visible="True" ComplexityLevel="Advanced" />
      <Override Name="DynamicSelectionRule" Visible="True" Description="Indicates whether this vehicle, when it becomes available, dynamically selects the next seize request from its statically ranked allocation queue using a dynamic selection rule. Note: This feature only applies to an 'On Demand' routing type vehicle." Category="Resource Logic" />
      <Override Name="CurrentSizeIndex" DefaultValue="$(DefinitionName).ResourceState" />
      <Override Name="InitialDesiredSpeed" Visible="False" />
      <Override Name="InitialNumberInSystem" Visible="False" DefaultValue="0" />
      <Override Name="MaximumNumberInSystemLimit" Visible="False" />
      <Override Name="Destroyable" Visible="False" DefaultValue="False" />
      <Override Name="InitialTravelMode" Visible="False" />
      <Override Name="InitialNetwork" Visible="False" />
      <Override Name="NetworkTurnaroundMethod" Visible="False" />
      <Override Name="InitialPriority" ComplexityLevel="Advanced" />
      <Override Name="InitialSequence" Visible="False" />
      <Override Name="CanTransferInAndOutOfObjects" Visible="False" DefaultValue="False" />
      <Override Name="DueDateExpression" Visible="False" />
      <Override Name="InitialRideCapacity" Visible="False" />
    </Overrides>
    <PropertyReplacements>
      <PropertyReplacement Version="148" OldPropertyName="InitializedAddOnProcess" NewPropertyName="RunInitializedAddOnProcess" />
      <PropertyReplacement Version="148" OldPropertyName="EvaluatingAllocationAddOnProcess" NewPropertyName="EvaluatingSeizeRequestAddOnProcess" />
      <PropertyReplacement Version="148" OldPropertyName="EvaluatingRiderAddOnProcess" NewPropertyName="EvaluatingTransportRequestAddOnProcess" />
      <PropertyReplacement Version="150" OldPropertyName="EventName" NewPropertyName="FailureEventName" />
    </PropertyReplacements>
  </PropertyDefinitions>
  <States>
    <ElementReferenceState Name="HomeNode" Description="Gets or sets the 'Home' node location that the RobotHand is to travel to if using the 'Park At Home' or 'Go To Home' action when idle." ElementType="Node" />
    <BooleanState Name="IgnoreVisitingCurrentNode" Private="True" />
    <BooleanState Name="MinimumDwellTimeExpired" InitialValue="1" Private="True" />
    <ElementReferenceState Name="PreferredOwner" Private="True" ElementType="Object" />
    <ListState Name="ResourceState" Description="Gets the current resource state of the object.&#xD;&#xA;&#xD;&#xA;Possible Values: Idle = 0, Busy = 1, Failed = 3, OffShift = 4, FailedBusy = 5, OffShiftBusy = 6, Transporting = 7, OffShiftTransporting = 9" List="ResourceStateName" AutomaticAssignment="ResourceAutoStates" ResourceUtilizationCalculation="Custom">
      <AutoStates>
        <AutoState Label="FailedBusy" State="Failed AutoState" />
        <AutoState Label="OffShiftBusy" State="OffShift AutoState" />
        <AutoState Label="Transporting" State="Busy AutoState" />
        <AutoState Label="FailedTransporting" State="Failed AutoState" />
        <AutoState Label="OffShiftTransporting" State="OffShift AutoState" />
      </AutoStates>
      <ResourceUtilizationCalculationSettings>
        <ResourceUtilizationCalculationSetting StateName="Idle" Setting="NotUtilized" />
        <ResourceUtilizationCalculationSetting StateName="Busy" Setting="Utilized" />
        <ResourceUtilizationCalculationSetting StateName="Blocked" Setting="NotUtilized" />
        <ResourceUtilizationCalculationSetting StateName="Failed" Setting="NotUtilized" />
        <ResourceUtilizationCalculationSetting StateName="OffShift" Setting="NotUtilized" />
        <ResourceUtilizationCalculationSetting StateName="FailedBusy" Setting="Utilized" />
        <ResourceUtilizationCalculationSetting StateName="OffShiftBusy" Setting="Utilized" />
        <ResourceUtilizationCalculationSetting StateName="Transporting" Setting="Utilized" />
        <ResourceUtilizationCalculationSetting StateName="FailedTransporting" Setting="Utilized" />
        <ResourceUtilizationCalculationSetting StateName="OffShiftTransporting" Setting="Utilized" />
      </ResourceUtilizationCalculationSettings>
    </ListState>
    <DiscreteState Name="DesiredPitch" />
    <DiscreteState Name="HandUpdateTimeInterval" />
    <DiscreteState Name="HandServoUpdatesRemaining" />
    <BooleanState Name="Travelling" />
    <DiscreteState Name="MidPointOffset" />
    <DiscreteState Name="MidPointOffsetFloorLength" />
    <ElementReferenceState Name="MyBase" ElementType="Fixed" />
  </States>
  <Events>
    <Event Name="RiderLoaded" Description="The RiderLoaded event provides notification to the RobotHand's OnVisitingNode process that a rider has been loaded." Public="False" />
    <Event Name="RiderUnloaded" Description="The RiderUnloaded event provides notification to the RobotHand's OnVisitingNode process that a rider has been unloaded." Public="False" />
    <Event Name="CalendarTimeBasedFailuresReset" Description="An occurrence of this event will reset the RobotHand's 'CalendarTimeBasedFailures' timer." Public="False" />
    <Event Name="EventCountBasedFailuresReset" Description="An occurrence of this event will reset the RobotHand's 'EventCountBasedFailures' timer." Public="False" />
    <Event Name="Allocated" Description="The Allocated event provides notification that the RobotHand resource has been allocated to some transport or non-transport related tasks." />
    <Event Name="Released" Description="The Released event provides notification that the RobotHand resource has been released (freed) from some transport or non-transport related tasks." />
    <Event Name="RemainInPlaceEnded" Description="The RemainInPlaceEnded event provides notification to the RobotHand's process logic that the vehicle is to no longer remain in place at its current node if currently doing so." Public="False" />
    <Event Name="MinimumDwellTimeExpirationReset" Description="An occurrence of this event will reset the RobotHand's 'MinimumDwellTimeExpirationTimer' timer." Public="False" />
  </Events>
  <UsedObjects>
    <UsedObject Name="RobotLowerArm" />
    <UsedObject Name="Robot" />
    <UsedObject Name="RobotRotator" />
  </UsedObjects>
  <Elements>
    <Element Type="Failure" Name="Failure" Scope="Public" Description="The failure occurrences for this object.">
      <Properties>
        <Property Name="ReportStatistics">False</Property>
        <Property Name="OnFailedProcess">
          <Value>OnFailed</Value>
        </Property>
        <Property Name="OnRepairedProcess">
          <Value>OnRepaired</Value>
        </Property>
      </Properties>
    </Element>
    <Element Type="Timer" Name="CalendarTimeBasedFailures">
      <Properties>
        <Property Name="TimeOffset">UptimeBetweenFailures</Property>
        <Property Name="TimeInterval">UptimeBetweenFailures</Property>
        <Property Name="MaximumEvents">1</Property>
        <Property Name="ResetEventName">CalendarTimeBasedFailuresReset</Property>
        <Property Name="InitiallyEnabled">False</Property>
      </Properties>
    </Element>
    <Element Type="Timer" Name="EventCountBasedFailures">
      <Properties>
        <Property Name="IntervalType">EventCount</Property>
        <Property Name="TriggeringEventName">FailureEventName</Property>
        <Property Name="TriggeringEventCount">CountBetweenFailures</Property>
        <Property Name="MaximumEvents">1</Property>
        <Property Name="ResetEventName">EventCountBasedFailuresReset</Property>
        <Property Name="InitiallyEnabled">False</Property>
      </Properties>
    </Element>
    <Element Type="Timer" Name="MinimumDwellTimeExpirationTimer">
      <Properties>
        <Property Name="TimeOffset">MinimumDwellTime</Property>
        <Property Name="TimeInterval">MinimumDwellTime</Property>
        <Property Name="MaximumEvents">Math.If(MinimumDwellTimeExpired,0,1)</Property>
        <Property Name="ResetEventName">MinimumDwellTimeExpirationReset</Property>
        <Property Name="InitiallyEnabled">False</Property>
      </Properties>
    </Element>
    <Element Type="CostCenter" Name="CapitalCosts">
      <Properties>
        <Property Name="InitialCost" Units="USD">CapitalCostPerVehicle</Property>
        <Property Name="InitialCostRate" Units="USD per Hour">0.0</Property>
        <Property Name="DataSource">[Object]</Property>
        <Property Name="DataItem">"CapitalCost"</Property>
      </Properties>
    </Element>
  </Elements>
  <Processes>
    <Process Name="OnRunInitialized" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Object.OnRunInitialized" BeginStepID="4">
      <Properties>
        <Property Name="TokenActionOnAssociatedObjectTransferRequested">EndProcess</Property>
      </Properties>
      <Steps>
        <Step Type="Decide" Name="IfUnpark" ExclusionExpression="Math.If((RoutingType == List.RobotHandRoutingType.FixedRoute) || (IdleAction == List.RobotHandIdleAction.Roam), 0, 2)" ID="2">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">IsParked</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="3" />
        </Step>
        <Step Type="UnPark" Name="Vehicle" ID="3">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
          </Properties>
        </Step>
        <Step Type="Execute" Name="RunInitialized_AddOnProcess" ID="4">
          <Properties>
            <Property Name="ProcessName">
              <Value>RunInitializedAddOnProcess</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="5" />
        </Step>
        <Step Type="Decide" Name="IfOnShift" ID="5">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">ResourceState!=List.ResourceStateName.OffShift</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="6" />
        </Step>
        <Step Type="PlanVisit" Name="InitialMoveOrTransportRequests" ExclusionExpression="Math.If(RoutingType == List.RobotHandRoutingType.OnDemand, 0, 2)" ID="6">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="SelectionGoal">TaskSelectionStrategy</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="6" />
          <Exit Name="Failed" Type="Alternate" NextID="2" />
        </Step>
      </Steps>
    </Process>
    <Process Name="OnCreated" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Object.OnCreated" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Seize" Name="Vehicle" ExclusionExpression="RoutingType == List.RobotHandRoutingType.OnDemand" ID="2">
          <Properties>
            <Property Name="OwnerType">ParentObject</Property>
            <Property Name="ResourceSeizes">
              <Rows>
                <Properties>
                  <Property Name="ResourceType">ParentObject</Property>
                  <Property Name="UnitsPerResource">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
        <Step Type="SetRow" Name="ToRouteSequence" ExclusionExpression="RoutingType == List.RobotHandRoutingType.OnDemand" ID="3">
          <Properties>
            <Property Name="ObjectType">ParentObject</Property>
            <Property Name="TableName">RouteSequence</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="SetNode" Name="ToFirstDestination" ExclusionExpression="RoutingType == List.RobotHandRoutingType.OnDemand" ID="4">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="DestinationType">BySequence</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="5" />
        </Step>
        <Step Type="Assign" Name="ToEnableFailures" ExclusionExpression="FailureType != List.RobotHandFailureType.CalendarTimeBased" ID="5">
          <Properties>
            <Property Name="StateVariableName">
              <Value>CalendarTimeBasedFailures.Enabled</Value>
            </Property>
            <Property Name="NewValue">Run.RandomnessDisabled==False</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="6" />
        </Step>
        <Step Type="Subscribe" Name="ToFailureEvent" ExclusionExpression="FailureType != List.RobotHandFailureType.CalendarTimeBased" ID="6">
          <Properties>
            <Property Name="EventName">CalendarTimeBasedFailures.Event</Property>
            <Property Name="ProcessName">
              <Value>FailureOccurrenceLogic</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="7" />
        </Step>
        <Step Type="Assign" Name="ToEnableFailures" ExclusionExpression="FailureType != List.RobotHandFailureType.EventCountBased" ID="7">
          <Properties>
            <Property Name="StateVariableName">
              <Value>EventCountBasedFailures.Enabled</Value>
            </Property>
            <Property Name="NewValue">Run.RandomnessDisabled==False</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="8" />
        </Step>
        <Step Type="Subscribe" Name="ToFailureEvent" ExclusionExpression="FailureType != List.RobotHandFailureType.EventCountBased" ID="8">
          <Properties>
            <Property Name="EventName">EventCountBasedFailures.Event</Property>
            <Property Name="ProcessName">
              <Value>FailureOccurrenceLogic</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="9" />
        </Step>
        <Step Type="Assign" Name="OnCreatedAssignments" ID="9">
          <Properties>
            <Property Name="StateVariableName">
              <Value>CurrentCapacity</Value>
            </Property>
            <Property Name="NewValue">Math.Min(Capacity.Previous, 1)</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState!=List.ResourceStateName.OffShift</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState!=List.ResourceStateName.OffShift</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState!=List.ResourceStateName.OffShift</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState!=List.ResourceStateName.OffShift</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="10" />
        </Step>
        <Step Type="Assign" Name="ToEnableMinimumDwellTimeExpirationTimer" ExclusionExpression="MinimumDwellTimeType != List.RobotHandMinimumDwellTimeType.SpecificTime" ID="10">
          <Properties>
            <Property Name="StateVariableName">
              <Value>MinimumDwellTimeExpirationTimer.Enabled</Value>
            </Property>
            <Property Name="NewValue">True</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="11" />
        </Step>
        <Step Type="Decide" Name="IfOnShift" ExclusionExpression="Math.If(OnShiftAddOnProcess.HasValue, 0, 2)" ID="11">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">ResourceState!=List.ResourceStateName.OffShift</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="14" />
          <Exit Name="False" Type="Alternate" NextID="12" />
        </Step>
        <Step Type="Decide" Name="IfOffShift" ExclusionExpression="Math.If(OffShiftAddOnProcess.HasValue, 0, 2)" ID="12">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">ResourceState==List.ResourceStateName.OffShift</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="13" />
        </Step>
        <Step Type="Execute" Name="OffShift_AddOnProcess" ID="13">
          <Properties>
            <Property Name="ProcessName">
              <Value>OffShiftAddOnProcess</Value>
            </Property>
          </Properties>
        </Step>
        <Step Type="Execute" Name="OnShift_AddOnProcess" ID="14">
          <Properties>
            <Property Name="ProcessName">
              <Value>OnShiftAddOnProcess</Value>
            </Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnCapacityAllocated" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Object.OnCapacityAllocated" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Assign" Name="OnCapacityAllocatedAssignments" ID="2">
          <Properties>
            <Property Name="StateVariableName">
              <Value>ResourceState</Value>
            </Property>
            <Property Name="NewValue">Math.If(!Failure.Active, Math.If(Object==ParentObject, List.ResourceStateName.Transporting, List.ResourceStateName.Busy), ResourceState)</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">Math.If(ResourceState==List.ResourceStateName.Transporting, RideStation.Capacity &gt; RideStationLoad, False)</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">Math.If(ResourceState==List.ResourceStateName.Transporting, RideStation.Capacity &gt; RideStationLoad, False)</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">False</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">False</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Transporting</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Transporting</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Fire" Name="AllocatedEvent" ID="3">
          <Properties>
            <Property Name="EventName">Allocated</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Execute" Name="Allocated_AddOnProcess" ID="4">
          <Properties>
            <Property Name="ProcessName">
              <Value>AllocatedAddOnProcess</Value>
            </Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnCapacityReleased" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Object.OnCapacityReleased" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Assign" Name="OnCapacityReleasedAssignments" ID="2">
          <Properties>
            <Property Name="StateVariableName">
              <Value>ResourceState</Value>
            </Property>
            <Property Name="NewValue">Math.If((ResourceState==List.ResourceStateName.OffShiftBusy) || (ResourceState==List.ResourceStateName.OffShiftTransporting), List.ResourceStateName.OffShift, ResourceState==List.ResourceStateName.FailedBusy, List.ResourceStateName.Failed, ResourceState)</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
        <Step Type="SetNode" Name="ToClearDestination" ID="3">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Fire" Name="RemainInPlaceEndedEvent" ID="4">
          <Properties>
            <Property Name="EventName">RemainInPlaceEnded</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="5" />
        </Step>
        <Step Type="Fire" Name="ReleasedEvent" ID="5">
          <Properties>
            <Property Name="EventName">Released</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="6" />
        </Step>
        <Step Type="Execute" Name="Released_AddOnProcess" ID="6">
          <Properties>
            <Property Name="ProcessName">
              <Value>ReleasedAddOnProcess</Value>
            </Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnEvaluatingSeizeRequest" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Object.OnEvaluatingSeizeRequest" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Execute" Name="EvaluatingSeizeRequest_AddOnProcess" ID="2">
          <Properties>
            <Property Name="ProcessName">
              <Value>EvaluatingSeizeRequestAddOnProcess</Value>
            </Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnCapacityChanged" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Object.OnCapacityChanged" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Notify" Name="IfInvalidCapacity" ID="2">
          <Properties>
            <Property Name="NotificationType">Warning</Property>
            <Property Name="MessageHeading">"Invalid resource capacity detected"</Property>
            <Property Name="MessageContent">"Invalid capacity value '" + String.FromReal(Capacity) + "' assigned to resource '" + Name + "'. The resource capacity cannot be greater than 1.

The capacity will be automatically adjusted to the maximum allowable value. However, this warning may indicate a problem in the modeled logic."</Property>
            <Property Name="NotifyCondition">Capacity &gt; 1</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Assign" Name="ValidCapacity" ID="3">
          <Properties>
            <Property Name="StateVariableName">
              <Value>CurrentCapacity</Value>
            </Property>
            <Property Name="NewValue">1</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="8" />
        </Step>
        <Step Type="Decide" Name="IfOnShift" ID="4">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">(Capacity.Previous==0)&amp;&amp;(Capacity&gt;0)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="3" />
          <Exit Name="False" Type="Alternate" NextID="5" />
        </Step>
        <Step Type="Decide" Name="IfOffShift" ID="5">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">(Capacity.Previous&gt;0)&amp;&amp;(Capacity==0)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="6" />
          <Exit Name="False" Type="Alternate" NextID="24" />
        </Step>
        <Step Type="Assign" Name="OffShiftAssignments" ID="6">
          <Properties>
            <Property Name="StateVariableName">
              <Value>ResourceState</Value>
            </Property>
            <Property Name="NewValue">Math.If((Capacity.AllocatedTo(ParentObject)&gt;0)&amp;&amp;(!Failure.Active), List.ResourceStateName.OffShiftTransporting, (Capacity.Allocated&gt;0)&amp;&amp;(Capacity.AllocatedTo(ParentObject)==0)&amp;&amp;((VisitRequestQueue.NumberWaiting==0)||(!Failure.Active)), List.ResourceStateName.OffShiftBusy, List.ResourceStateName.OffShift)</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">False</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">False</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">False</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">False</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">(ResourceState==List.ResourceStateName.OffShiftTransporting)&amp;&amp;(VisitRequestQueue.NumberWaiting&gt;0)</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">(ResourceState==List.ResourceStateName.OffShiftTransporting)&amp;&amp;(VisitRequestQueue.NumberWaiting&gt;0)</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="29" />
        </Step>
        <Step Type="Execute" Name="OffShift_AddOnProcess" ID="7">
          <Properties>
            <Property Name="ProcessName">
              <Value>OffShiftAddOnProcess</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="30" />
        </Step>
        <Step Type="Assign" Name="OnShiftAssignments" ID="8">
          <Properties>
            <Property Name="StateVariableName">
              <Value>ResourceState</Value>
            </Property>
            <Property Name="NewValue">Math.If((ResourceState==List.ResourceStateName.Failed)&amp;&amp;(Capacity.Allocated&gt;0)&amp;&amp;(Capacity.AllocatedTo(ParentObject)==0)&amp;&amp;(VisitRequestQueue.NumberWaiting==0), List.ResourceStateName.FailedBusy, ResourceState)</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle || (ResourceState==List.ResourceStateName.Transporting &amp;&amp; (RideStation.Capacity &gt; RideStationLoad))</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle || (ResourceState==List.ResourceStateName.Transporting &amp;&amp; (RideStation.Capacity &gt; RideStationLoad))</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle || ResourceState==List.ResourceStateName.Transporting</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle || ResourceState==List.ResourceStateName.Transporting</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="28" />
        </Step>
        <Step Type="Execute" Name="OnShift_AddOnProcess" ID="9">
          <Properties>
            <Property Name="ProcessName">
              <Value>OnShiftAddOnProcess</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="10" />
        </Step>
        <Step Type="Allocate" Name="Vehicle" ExclusionExpression="Math.If(RoutingType == List.RobotHandRoutingType.OnDemand, 0, 2)" ID="10">
          <Properties>
            <Property Name="ResourceType">ParentObject</Property>
          </Properties>
          <Exit Name="Failed" Type="Alternate" NextID="11" />
        </Step>
        <Step Type="PlanVisit" Name="NewTransportRequests" ExclusionExpression="Math.If(RoutingType == List.RobotHandRoutingType.OnDemand, 0, 2)" ID="11">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="SelectionGoal">TaskSelectionStrategy</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="11" />
          <Exit Name="Failed" Type="Alternate" NextID="12" />
        </Step>
        <Step Type="Decide" Name="IfIdle" ID="12">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">ResourceState==List.ResourceStateName.Idle</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="13" />
          <Exit Name="False" Type="Alternate" NextID="25" />
        </Step>
        <Step Type="Decide" Name="IfNoIdleActionRequired" ID="13">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">Math.If(IdleAction == List.RobotHandIdleAction.GoToHome, Math.If(CurrentNode != Nothing, CurrentNode == HomeNode, False), IdleAction == List.RobotHandIdleAction.ParkAtNode, IsParked, IdleAction == List.RobotHandIdleAction.ParkAtHome, IsParked &amp;&amp; Math.If(CurrentNode != Nothing, CurrentNode == HomeNode, False), IdleAction == List.RobotHandIdleAction.None)</Property>
          </Properties>
          <Exit Name="False" Type="Alternate" NextID="18" />
        </Step>
        <Step Type="Decide" Name="IfOffShift" ID="14">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">ResourceState==List.ResourceStateName.OffShift</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="15" />
        </Step>
        <Step Type="Decide" Name="IfNoOffShiftActionRequired" ID="15">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">Math.If(OffShiftAction == List.RobotHandOffShiftAction.GoToHome, Math.If(CurrentNode != Nothing, CurrentNode == HomeNode, False), OffShiftAction == List.RobotHandOffShiftAction.ParkAtNode, IsParked, OffShiftAction == List.RobotHandOffShiftAction.ParkAtHome, IsParked &amp;&amp; Math.If(CurrentNode != Nothing, CurrentNode == HomeNode, False), OffShiftAction == List.RobotHandOffShiftAction.None)</Property>
          </Properties>
          <Exit Name="False" Type="Alternate" NextID="20" />
        </Step>
        <Step Type="Fire" Name="RemainInPlaceEndedEvent" ID="16">
          <Properties>
            <Property Name="EventName">RemainInPlaceEnded</Property>
          </Properties>
        </Step>
        <Step Type="Fire" Name="RemainInPlaceEndedEvent" ID="17">
          <Properties>
            <Property Name="EventName">RemainInPlaceEnded</Property>
          </Properties>
        </Step>
        <Step Type="Decide" Name="IfInFreeSpace" ID="18">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">(CurrentNode==Nothing)&amp;&amp;(CurrentLink==Nothing)&amp;&amp;(CurrentStation==Nothing)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="32" />
          <Exit Name="False" Type="Alternate" NextID="19" />
        </Step>
        <Step Type="Decide" Name="IfUnpark" ID="19">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">IsParked &amp;&amp; (OnVisitingNode.NumberTokensInProcess==0)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="22" />
          <Exit Name="False" Type="Alternate" NextID="16" />
        </Step>
        <Step Type="Decide" Name="IfInFreeSpace" ID="20">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">(CurrentNode==Nothing)&amp;&amp;(CurrentLink==Nothing)&amp;&amp;(CurrentStation==Nothing)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="33" />
          <Exit Name="False" Type="Alternate" NextID="21" />
        </Step>
        <Step Type="Decide" Name="IfUnpark" ID="21">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">IsParked &amp;&amp; (OnVisitingNode.NumberTokensInProcess==0)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="23" />
          <Exit Name="False" Type="Alternate" NextID="17" />
        </Step>
        <Step Type="UnPark" Name="Vehicle" ID="22">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
          </Properties>
        </Step>
        <Step Type="UnPark" Name="Vehicle" ID="23">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
          </Properties>
        </Step>
        <Step Type="Assign" Name="ValidCapacity" ID="24">
          <Properties>
            <Property Name="StateVariableName">
              <Value>CurrentCapacity</Value>
            </Property>
            <Property Name="NewValue">Math.Min(CurrentCapacity, 1)</Property>
          </Properties>
        </Step>
        <Step Type="Decide" Name="IfStartingFixedRoute" ExclusionExpression="Math.If(RoutingType == List.RobotHandRoutingType.OnDemand, 2, 0)" ID="25">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">(RideStation.Contents==0)&amp;&amp;(Sequence.DestinationNodes.FirstItem!=Nothing)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="26" />
        </Step>
        <Step Type="SetRow" Name="ToRouteSequence" ID="26">
          <Properties>
            <Property Name="ObjectType">ParentObject</Property>
            <Property Name="TableName">RouteSequence</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="27" />
        </Step>
        <Step Type="SetNode" Name="ToFirstDestination" ID="27">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="DestinationType">BySequence</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="31" />
        </Step>
        <Step Type="Seize" Name="Vehicle" ExclusionExpression="RoutingType == List.RobotHandRoutingType.OnDemand" ID="28">
          <Properties>
            <Property Name="OwnerType">ParentObject</Property>
            <Property Name="ResourceSeizes">
              <Rows>
                <Properties>
                  <Property Name="ResourceType">ParentObject</Property>
                  <Property Name="UnitsPerResource">Capacity.AllocatedTo(ParentObject)==0</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="9" />
        </Step>
        <Step Type="Release" Name="Vehicle" ExclusionExpression="RoutingType == List.RobotHandRoutingType.OnDemand" ID="29">
          <Properties>
            <Property Name="OwnerType">ParentObject</Property>
            <Property Name="ResourceReleases">
              <Rows>
                <Properties>
                  <Property Name="ResourceType">ParentObject</Property>
                  <Property Name="UnitsPerResource">(VisitRequestQueue.NumberWaiting==0)&amp;&amp;(NumberRiders.Loading==0)&amp;&amp;(RideStation.Contents==0)</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="7" />
        </Step>
        <Step Type="Decide" Name="IfDwellingForMinimumDwellTime" ExclusionExpression="Math.If(MinimumDwellTimeType == List.RobotHandMinimumDwellTimeType.NoRequirement, 2, 0)" ID="30">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">!MinimumDwellTimeExpired</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="17" />
          <Exit Name="False" Type="Alternate" NextID="14" />
        </Step>
        <Step Type="Decide" Name="IfInFreeSpace" ID="31">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">(CurrentNode==Nothing)&amp;&amp;(CurrentLink==Nothing)&amp;&amp;(CurrentStation==Nothing)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="35" />
          <Exit Name="False" Type="Alternate" NextID="19" />
        </Step>
        <Step Type="Decide" Name="IfHoming" ID="32">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">((IdleAction == List.RobotHandIdleAction.GoToHome) || (IdleAction == List.RobotHandIdleAction.ParkAtHome)) &amp;&amp; (HomeNode != Nothing)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="34" />
        </Step>
        <Step Type="Decide" Name="IfHoming" ID="33">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">((OffShiftAction == List.RobotHandOffShiftAction.GoToHome) || (OffShiftAction == List.RobotHandOffShiftAction.ParkAtHome)) &amp;&amp; (HomeNode != Nothing)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="34" />
        </Step>
        <Step Type="SetNode" Name="ToHomeNode" ID="34">
          <Properties>
            <Property Name="NodeName">HomeNode</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="35" />
        </Step>
        <Step Type="Travel" Name="ToDestinationNode" ID="35">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="SteeringBehavior" BehaviorGuid="2b2ac6d5-73de-4ac8-bfc8-8b0ea2fdbe1e">
              <Value>Direct To Destination</Value>
              <Properties>
                <Property Name="DestinationObject">DestinationNode</Property>
                <Property Name="MaximumMovementRate">DesiredSpeed</Property>
              </Properties>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="36" />
        </Step>
        <Step Type="Transfer" Name="ToDestinationNode" ID="36">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="NodeName">DestinationNode</Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnRunEnding" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Object.OnRunEnding" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Execute" Name="RunEnding_AddOnProcess" ID="2">
          <Properties>
            <Property Name="ProcessName">
              <Value>RunEndingAddOnProcess</Value>
            </Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnCapacityReservationCancelled" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Object.OnCapacityReservationCancelled" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Allocate" Name="Vehicle" ExclusionExpression="Math.If(RoutingType == List.RobotHandRoutingType.OnDemand, 0, 2)" ID="2">
          <Properties>
            <Property Name="ResourceType">ParentObject</Property>
          </Properties>
          <Exit Name="Failed" Type="Alternate" NextID="3" />
        </Step>
        <Step Type="PlanVisit" Name="NewTransportRequests" ExclusionExpression="Math.If(RoutingType == List.RobotHandRoutingType.OnDemand, 0, 2)" ID="3">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="SelectionGoal">TaskSelectionStrategy</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="3" />
        </Step>
      </Steps>
    </Process>
    <Process Name="OnNewSeizeRequest" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Object.OnNewSeizeRequest" BeginStepID="2">
      <Properties>
        <Property Name="InitiallyEnabled">False</Property>
      </Properties>
      <Steps>
        <Step Type="Decide" Name="IfPreferredOwner" ID="2">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">Entity==PreferredOwner</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Release" Name="Vehicle" ID="3">
          <Properties>
            <Property Name="OwnerType">ParentObject</Property>
            <Property Name="ResourceReleases">
              <Rows>
                <Properties>
                  <Property Name="ResourceType">ParentObject</Property>
                  <Property Name="QuantityType">All</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="EndTransfer" Name="FromVehicle" ID="4">
          <Properties />
        </Step>
      </Steps>
    </Process>
    <Process Name="OnVisitingNode" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Entity.OnVisitingNode" BeginStepID="2">
      <Properties>
        <Property Name="TokenActionOnAssociatedObjectTransferRequested">EndProcess</Property>
      </Properties>
      <Steps>
        <Step Type="Execute" Name="EnteredNode_AddOnProcess" ID="2">
          <Properties>
            <Property Name="ProcessName">
              <Value>EnteredNodeAddOnProcess</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Decide" Name="IfNotVisitingNode" ID="3">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">Math.If(IgnoreVisitingCurrentNode, True, ResourceState == List.ResourceStateName.Idle, False, ResourceState == List.ResourceStateName.OffShift, ((OffShiftAction == List.RobotHandOffShiftAction.GoToHome) || (OffShiftAction == List.RobotHandOffShiftAction.ParkAtHome)) &amp;&amp; (HomeNode != Nothing) &amp;&amp; (DestinationNode == HomeNode) &amp;&amp; (CurrentNode != HomeNode), (DestinationNode != Nothing) &amp;&amp; (CurrentNode != DestinationNode), True, False)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="37" />
          <Exit Name="False" Type="Alternate" NextID="4" />
        </Step>
        <Step Type="Decide" Name="IfBusy" ID="4">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">(ResourceState==List.ResourceStateName.Busy)||(ResourceState==List.ResourceStateName.OffShiftBusy)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="29" />
          <Exit Name="False" Type="Alternate" NextID="32" />
        </Step>
        <Step Type="Arrive" Name="AtDestination" ID="5">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="39" />
        </Step>
        <Step Type="Wait" Name="UntilRemainInPlaceEnded" ID="6">
          <Properties>
            <Property Name="EventName">RemainInPlaceEnded</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="7" />
        </Step>
        <Step Type="Delay" Name="EpsilonTime" ID="7">
          <Properties>
            <Property Name="DelayTime">Math.If(Capacity.Reserved &gt; 0, Math.Epsilon, 0.0)</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Execute" Name="ExitingNode_AddOnProcess" ID="8">
          <Properties>
            <Property Name="ProcessName">
              <Value>ExitingNodeAddOnProcess</Value>
            </Property>
          </Properties>
        </Step>
        <Step Type="Dropoff" Name="Rider" ID="9">
          <Properties>
            <Property Name="TransporterType">ParentObject</Property>
            <Property Name="UnloadTime">UnloadTime</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="10" />
          <Exit Name="Failed" Type="Alternate" NextID="58" />
        </Step>
        <Step Type="Decide" Name="IfWaitUntilRiderUnloaded" ExclusionExpression="Math.If(!UnloadedAddOnProcess.HasValue, 2, 0)" ID="10">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">OnRiderUnloaded.NumberTokensInProcess &gt; 0</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="11" />
          <Exit Name="False" Type="Alternate" NextID="9" />
        </Step>
        <Step Type="Wait" Name="UntilRiderUnloaded" ExclusionExpression="!UnloadedAddOnProcess.HasValue" ID="11">
          <Properties>
            <Property Name="EventName">RiderUnloaded</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="9" />
        </Step>
        <Step Type="Pickup" Name="Rider" ID="12">
          <Properties>
            <Property Name="TransporterType">ParentObject</Property>
            <Property Name="SelectionGoal">TaskSelectionStrategy</Property>
            <Property Name="LoadTime">LoadTime</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="13" />
          <Exit Name="Failed" Type="Alternate" NextID="51" />
        </Step>
        <Step Type="Decide" Name="IfWaitUntilRiderLoaded" ExclusionExpression="Math.If(!LoadedAddOnProcess.HasValue, 2, 0)" ID="13">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">OnRiderLoaded.NumberTokensInProcess &gt; 0</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="14" />
          <Exit Name="False" Type="Alternate" NextID="12" />
        </Step>
        <Step Type="Wait" Name="UntilRiderLoaded" ExclusionExpression="!LoadedAddOnProcess.HasValue" ID="14">
          <Properties>
            <Property Name="EventName">RiderLoaded</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="12" />
        </Step>
        <Step Type="Decide" Name="IfFixedRouting" ExclusionExpression="Math.If(RoutingType == List.RobotHandRoutingType.FixedRoute, 1, 2)" ID="15">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">RoutingType == List.RobotHandRoutingType.FixedRoute</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="46" />
          <Exit Name="False" Type="Alternate" NextID="17" />
        </Step>
        <Step Type="SetNode" Name="ToNextSequenceDestination" ID="16">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="DestinationType">BySequence</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="37" />
        </Step>
        <Step Type="SelectDropoff" Name="NextTransportDropoff" ID="17">
          <Properties>
            <Property Name="TransporterType">ParentObject</Property>
            <Property Name="SelectionGoal">TaskSelectionStrategy</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="37" />
          <Exit Name="Failed" Type="Alternate" NextID="18" />
        </Step>
        <Step Type="SelectVisit" Name="ToAcceptedDestination" ID="18">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="SelectionGoal">TaskSelectionStrategy</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="57" />
          <Exit Name="Failed" Type="Alternate" NextID="19" />
        </Step>
        <Step Type="Release" Name="Vehicle" ID="19">
          <Properties>
            <Property Name="OwnerType">ParentObject</Property>
            <Property Name="ResourceReleases">
              <Rows>
                <Properties>
                  <Property Name="ResourceType">ParentObject</Property>
                  <Property Name="QuantityType">All</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="20" />
        </Step>
        <Step Type="Delay" Name="EpsilonTime" ID="20">
          <Properties>
            <Property Name="DelayTime">Math.If(Capacity.Reserved &gt; 0, Math.Epsilon, 0.0)</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="27" />
        </Step>
        <Step Type="PlanVisit" Name="NewTransportRequests" ID="21">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="SelectionGoal">TaskSelectionStrategy</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="21" />
          <Exit Name="Failed" Type="Alternate" NextID="22" />
        </Step>
        <Step Type="Decide" Name="IfIdle" ID="22">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">ResourceState==List.ResourceStateName.Idle</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="60" />
          <Exit Name="False" Type="Alternate" NextID="37" />
        </Step>
        <Step Type="Decide" Name="IfHoming" ID="23">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">(IdleAction == List.RobotHandIdleAction.GoToHome) &amp;&amp; (HomeNode != Nothing) &amp;&amp; (HomeNode != CurrentNode)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="24" />
          <Exit Name="False" Type="Alternate" NextID="59" />
        </Step>
        <Step Type="SetNode" Name="ToHome" ID="24">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="NodeName">HomeNode</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="37" />
        </Step>
        <Step Type="Park" Name="AtCurrentNode" ID="25">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="NodeName">CurrentNode</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="40" />
        </Step>
        <Step Type="Wait" Name="UntilRemainInPlaceEnded" ID="26">
          <Properties>
            <Property Name="EventName">RemainInPlaceEnded</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Decide" Name="IfIdle" ID="27">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">ResourceState==List.ResourceStateName.Idle</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="21" />
          <Exit Name="False" Type="Alternate" NextID="43" />
        </Step>
        <Step Type="Execute" Name="ExitingNode_AddOnProcess" ID="28">
          <Properties>
            <Property Name="ProcessName">
              <Value>ExitingNodeAddOnProcess</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="25" />
        </Step>
        <Step Type="Decide" Name="IfParked" ExclusionExpression="!ParkWhileBusy" ID="29">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">IsParked</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="5" />
          <Exit Name="False" Type="Alternate" NextID="30" />
        </Step>
        <Step Type="Execute" Name="ExitingNode_AddOnProcess" ID="30">
          <Properties>
            <Property Name="ProcessName">
              <Value>ExitingNodeAddOnProcess</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="31" />
        </Step>
        <Step Type="Park" Name="AtCurrentNode" ID="31">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="NodeName">CurrentNode</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="5" />
        </Step>
        <Step Type="Decide" Name="IfLoadingUnloading" ID="32">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">Math.If(ResourceState==List.ResourceStateName.OffShift, False, (ResourceState==List.ResourceStateName.Transporting)||(ResourceState==List.ResourceStateName.OffShiftTransporting), True, Node.RidePickupQueue.NumberWaiting&gt;0)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="48" />
          <Exit Name="False" Type="Alternate" NextID="27" />
        </Step>
        <Step Type="Decide" Name="IfParking" ExclusionExpression="Math.If(ParkToLoadUnload, 0, 2)" ID="33">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">ParkToLoadUnload &amp;&amp; !IsParked</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="34" />
          <Exit Name="False" Type="Alternate" NextID="9" />
        </Step>
        <Step Type="Execute" Name="ExitingNode_AddOnProcess" ID="34">
          <Properties>
            <Property Name="ProcessName">
              <Value>ExitingNodeAddOnProcess</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="35" />
        </Step>
        <Step Type="Park" Name="AtCurrentNode" ID="35">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="NodeName">CurrentNode</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="9" />
        </Step>
        <Step Type="Decide" Name="IfParked" ID="36">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">IsParked</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="26" />
          <Exit Name="False" Type="Alternate" NextID="28" />
        </Step>
        <Step Type="Decide" Name="IfParked" ID="37">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">IsParked</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="41" />
          <Exit Name="False" Type="Alternate" NextID="42" />
        </Step>
        <Step Type="UnPark" Name="Vehicle" ID="38">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
          </Properties>
        </Step>
        <Step Type="SelectVisit" Name="ToAcceptedDestination" ID="39">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="SelectionGoal">TaskSelectionStrategy</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="3" />
          <Exit Name="Failed" Type="Alternate" NextID="6" />
        </Step>
        <Step Type="Decide" Name="IfIdleOrOffShift" ID="40">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">(ResourceState==List.ResourceStateName.Idle)||(ResourceState==List.ResourceStateName.OffShift)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="26" />
          <Exit Name="False" Type="Alternate" NextID="3" />
        </Step>
        <Step Type="Assign" Name="IgnoreVisitingCurrentNodeFlag" ID="41">
          <Properties>
            <Property Name="StateVariableName">
              <Value>IgnoreVisitingCurrentNode</Value>
            </Property>
            <Property Name="NewValue">CurrentNode!=DestinationNode</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="38" />
        </Step>
        <Step Type="Assign" Name="IgnoreVisitingCurrentNodeFlag" ID="42">
          <Properties>
            <Property Name="StateVariableName">
              <Value>IgnoreVisitingCurrentNode</Value>
            </Property>
            <Property Name="NewValue">False</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="8" />
        </Step>
        <Step Type="Decide" Name="IfOffShift" ID="43">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">ResourceState==List.ResourceStateName.OffShift</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="44" />
          <Exit Name="False" Type="Alternate" NextID="3" />
        </Step>
        <Step Type="Decide" Name="IfParking" ExclusionExpression="Math.If(OffShiftAction == List.RobotHandOffShiftAction.ParkAtNode, 1, OffShiftAction != List.RobotHandOffShiftAction.ParkAtHome, 2, 0)" ID="44">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">(HomeNode==CurrentNode)||(HomeNode==Nothing)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="36" />
          <Exit Name="False" Type="Alternate" NextID="45" />
        </Step>
        <Step Type="Decide" Name="IfHoming" ExclusionExpression="Math.If(OffShiftAction == List.RobotHandOffShiftAction.ParkAtHome, 1, OffShiftAction != List.RobotHandOffShiftAction.GoToHome, 2, 0)" ID="45">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">(HomeNode!=Nothing)&amp;&amp;(HomeNode!=CurrentNode)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="24" />
          <Exit Name="False" Type="Alternate" NextID="26" />
        </Step>
        <Step Type="Release" Name="Vehicle" ID="46">
          <Properties>
            <Property Name="OwnerType">ParentObject</Property>
            <Property Name="ResourceReleases">
              <Rows>
                <Properties>
                  <Property Name="ResourceType">ParentObject</Property>
                  <Property Name="UnitsPerResource">(ResourceState==List.ResourceStateName.OffShiftTransporting)&amp;&amp;(RideStation.Contents==0)</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="47" />
        </Step>
        <Step Type="Decide" Name="IfOffShift" ID="47">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">ResourceState==List.ResourceStateName.OffShift</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="44" />
          <Exit Name="False" Type="Alternate" NextID="56" />
        </Step>
        <Step Type="Assign" Name="MinimumDwellTimeExpiredFlag" ExclusionExpression="MinimumDwellTimeType == List.RobotHandMinimumDwellTimeType.NoRequirement" ID="48">
          <Properties>
            <Property Name="StateVariableName">
              <Value>MinimumDwellTimeExpired</Value>
            </Property>
            <Property Name="NewValue">False</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="49" />
        </Step>
        <Step Type="Fire" Name="MinimumDwellTimeExpirationResetEvent" ExclusionExpression="MinimumDwellTimeType != List.RobotHandMinimumDwellTimeType.SpecificTime" ID="49">
          <Properties>
            <Property Name="EventName">MinimumDwellTimeExpirationReset</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="50" />
        </Step>
        <Step Type="Subscribe" Name="ToMinimumDwellTimeExpirationEvent" ExclusionExpression="MinimumDwellTimeType != List.RobotHandMinimumDwellTimeType.DwellUntilEvent" ID="50">
          <Properties>
            <Property Name="EventName">MinimumDwellTimeExpirationEventName</Property>
            <Property Name="ProcessName">
              <Value>OnMinimumDwellTimeExpired</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="33" />
        </Step>
        <Step Type="Decide" Name="IfMinimumDwellTimeExpired" ExclusionExpression="MinimumDwellTimeType == List.RobotHandMinimumDwellTimeType.NoRequirement" ID="51">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">MinimumDwellTimeExpired</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="15" />
          <Exit Name="False" Type="Alternate" NextID="52" />
        </Step>
        <Step Type="Decide" Name="IfMinimumDwellTimeCondition" ID="52">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">Math.If(MinimumDwellTimeCondition.HasValue, MinimumDwellTimeCondition, True)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="53" />
          <Exit Name="False" Type="Alternate" NextID="54" />
        </Step>
        <Step Type="Wait" Name="UntilRemainInPlaceEnded" ID="53">
          <Properties>
            <Property Name="EventName">RemainInPlaceEnded</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="12" />
        </Step>
        <Step Type="Assign" Name="MinimumDwellTimeExpiredFlag" ID="54">
          <Properties>
            <Property Name="StateVariableName">
              <Value>MinimumDwellTimeExpired</Value>
            </Property>
            <Property Name="NewValue">True</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="55" />
        </Step>
        <Step Type="UnSubscribe" Name="FromMinimumDwellTimeExpirationEvent" ExclusionExpression="MinimumDwellTimeType != List.RobotHandMinimumDwellTimeType.DwellUntilEvent" ID="55">
          <Properties>
            <Property Name="EventName">MinimumDwellTimeExpirationEventName</Property>
            <Property Name="ProcessName">
              <Value>OnMinimumDwellTimeExpired</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="15" />
        </Step>
        <Step Type="Assign" Name="BeforeNextDestinationAssignments" ID="56">
          <Properties>
            <Property Name="StateVariableName">
              <Value>OnEvaluatingRiderReservation.Enabled</Value>
            </Property>
            <Property Name="NewValue">RideStation.Capacity &gt; RideStationLoad</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">RideStation.Capacity &gt; RideStationLoad</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="16" />
        </Step>
        <Step Type="Decide" Name="IfBusyAndDestinationIsCurrentNode" ID="57">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">ResourceState==List.ResourceStateName.Busy &amp;&amp; DestinationNode==CurrentNode</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="29" />
          <Exit Name="False" Type="Alternate" NextID="37" />
        </Step>
        <Step Type="Assign" Name="ToClearPreferredOwner" ExclusionExpression="RoutingType == List.RobotHandRoutingType.FixedRoute" ID="58">
          <Properties>
            <Property Name="StateVariableName">
              <Value>PreferredOwner</Value>
            </Property>
            <Property Name="NewValue">Nothing</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnNewSeizeRequest.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">False</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="12" />
        </Step>
        <Step Type="Decide" Name="IfRoaming" ExclusionExpression="Math.If(IdleAction == List.RobotHandIdleAction.Roam, 1, 2)" ID="59">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">IdleAction == List.RobotHandIdleAction.Roam</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="37" />
          <Exit Name="False" Type="Alternate" NextID="26" />
        </Step>
        <Step Type="Decide" Name="IfParking" ID="60">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">False</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="36" />
          <Exit Name="False" Type="Alternate" NextID="23" />
        </Step>
      </Steps>
    </Process>
    <Process Name="OnEvaluatingMoveRequest" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Entity.OnEvaluatingMoveRequest" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Decide" Name="NotTravellling" ID="2">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">!Travelling</Property>
          </Properties>
          <Exit Name="False" Type="Alternate" NextID="3" />
        </Step>
        <Step Type="Assign" Name="RejectTransportRequest" ID="3">
          <Properties>
            <Property Name="StateVariableName">
              <Value>Token.ReturnValue</Value>
            </Property>
            <Property Name="NewValue">False</Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnMoveRequestAccepted" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Entity.OnMoveRequestAccepted" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Execute" Name="SelectVisitAndMoveToDestination" ID="2">
          <Properties>
            <Property Name="ProcessName">
              <Value>SelectVisitAndMoveToDestination</Value>
            </Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnEnteredFreeSpace" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Entity.OnEnteredFreeSpace" BeginStepID="4">
      <Properties>
        <Property Name="TokenActionOnAssociatedObjectDestroyed">EndProcess</Property>
      </Properties>
      <Steps>
        <Step Type="Decide" Name="IfDestinationNode" ID="2">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">DestinationNode != Nothing</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Execute" Name="TravelToNode" ID="3">
          <Properties>
            <Property Name="ProcessName">
              <Value>TravelToNode</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="7" />
        </Step>
        <Step Type="Assign" Name="MovementRate" ID="4">
          <Properties>
            <Property Name="StateVariableName">
              <Value>Movement.Rate</Value>
            </Property>
            <Property Name="NewValue">0</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="2" />
        </Step>
        <Step Type="Assign" Name="HandLocation" ID="5">
          <Properties>
            <Property Name="StateVariableName">
              <Value>Movement.X</Value>
            </Property>
            <Property Name="NewValue">MyBase.Robot.MyUpperArm.RobotLowerArm.EndJointX + MidPointOffsetFloorLength * MyBase.Robot.CosHeading</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>Movement.Y</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">MyBase.Robot.MyUpperArm.RobotLowerArm.EndJointY + MidPointOffset * MyBase.Robot.SinPitchHand</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>Movement.Z</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">MyBase.Robot.MyUpperArm.RobotLowerArm.EndJointZ + MidPointOffsetFloorLength * MyBase.Robot.SinHeading</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="8" />
        </Step>
        <Step Type="Delay" Name="Epsilon" ID="6">
          <Properties>
            <Property Name="DelayTime">Math.Epsilon</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="5" />
        </Step>
        <Step Type="Execute" Name="TransferNoWait" ID="7">
          <Properties>
            <Property Name="ProcessName">
              <Value>OnEnteredFreeSpaceTransfer</Value>
            </Property>
            <Property Name="TokenWaitAction">NoWait</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="6" />
        </Step>
        <Step Type="PlanVisit" Name="NewMoveOrTransportRequests" ID="8">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="SelectionGoal">TaskSelectionStrategy</Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnRiderReservationAccepted" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Transporter.OnRiderReservationAccepted" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Decide" Name="IfIdle" ID="2">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">ResourceState==List.ResourceStateName.Idle</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="4" />
          <Exit Name="False" Type="Alternate" NextID="3" />
        </Step>
        <Step Type="Assign" Name="OnRiderReservationAcceptedAssignments" ID="3">
          <Properties>
            <Property Name="StateVariableName">
              <Value>OnEvaluatingRiderReservation.Enabled</Value>
            </Property>
            <Property Name="NewValue">RideStation.Capacity &gt; RideStationLoad</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">RideStation.Capacity &gt; RideStationLoad</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="5" />
        </Step>
        <Step Type="Seize" Name="Vehicle" ID="4">
          <Properties>
            <Property Name="OwnerType">ParentObject</Property>
            <Property Name="ResourceSeizes">
              <Rows>
                <Properties>
                  <Property Name="ResourceType">ParentObject</Property>
                  <Property Name="SelectionValueExpression"></Property>
                  <Property Name="RecordResourceCost">False</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="6" />
        </Step>
        <Step Type="Fire" Name="RemainInPlaceEndedEvent" ID="5">
          <Properties>
            <Property Name="EventName">RemainInPlaceEnded</Property>
          </Properties>
        </Step>
        <Step Type="Execute" Name="SelectVisitAndMoveToDestination" ID="6">
          <Properties>
            <Property Name="ProcessName">
              <Value>SelectVisitAndMoveToDestination</Value>
            </Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnEvaluatingRiderReservation" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Transporter.OnEvaluatingRiderReservation" BeginStepID="5">
      <Properties />
      <Steps>
        <Step Type="Decide" Name="IfAcceptTransportRequest" ID="2">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">(ResourceState==List.ResourceStateName.Idle) || (Entity.CurrentNode==DestinationNode) || (Entity.CurrentNode==CurrentNode &amp;&amp; DestinationNode==Nothing)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="4" />
          <Exit Name="False" Type="Alternate" NextID="3" />
        </Step>
        <Step Type="Assign" Name="RejectTransportRequest" ID="3">
          <Properties>
            <Property Name="StateVariableName">
              <Value>Token.ReturnValue</Value>
            </Property>
            <Property Name="NewValue">False</Property>
          </Properties>
        </Step>
        <Step Type="Execute" Name="EvaluatingTransportRequest_AddOnProcess" ID="4">
          <Properties>
            <Property Name="ProcessName">
              <Value>EvaluatingTransportRequestAddOnProcess</Value>
            </Property>
          </Properties>
        </Step>
        <Step Type="Decide" Name="NotTravellling" ID="5">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">!Travelling</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="2" />
          <Exit Name="False" Type="Alternate" NextID="3" />
        </Step>
      </Steps>
    </Process>
    <Process Name="OnEvaluatingRiderAtPickup" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Transporter.OnEvaluatingRiderAtPickup" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Execute" Name="EvaluatingTransportRequest_AddOnProcess" ID="2">
          <Properties>
            <Property Name="ProcessName">
              <Value>EvaluatingTransportRequestAddOnProcess</Value>
            </Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnRiderLoading" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Transporter.OnRiderLoading" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Seize" Name="Vehicle" ExclusionExpression="RoutingType == List.RobotHandRoutingType.FixedRoute" ID="2">
          <Properties>
            <Property Name="OwnerType">ParentObject</Property>
            <Property Name="ResourceSeizes">
              <Rows>
                <Properties>
                  <Property Name="ResourceType">ParentObject</Property>
                  <Property Name="UnitsPerResource">Capacity.Allocated==0</Property>
                  <Property Name="SelectionValueExpression"></Property>
                  <Property Name="RecordResourceCost">False</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="5" />
        </Step>
        <Step Type="Assign" Name="OnRiderLoadingAssignments" ExclusionExpression="RoutingType == List.RobotHandRoutingType.FixedRoute" ID="3">
          <Properties>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">RideStation.Capacity &gt; RideStationLoad</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">RideStation.Capacity &gt; RideStationLoad</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Assign" Name="MinimumDwellTimeExpiredFlag" ExclusionExpression="MinimumDwellTimeType != List.RobotHandMinimumDwellTimeType.DwellUntilFull" ID="4">
          <Properties>
            <Property Name="StateVariableName">
              <Value>MinimumDwellTimeExpired</Value>
            </Property>
            <Property Name="NewValue">RideStationLoad &gt;= RideStation.Capacity</Property>
          </Properties>
        </Step>
        <Step Type="Execute" Name="LoadingPosition" ID="5">
          <Properties>
            <Property Name="ProcessName">
              <Value>MoveHandToPickupAngle</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
      </Steps>
    </Process>
    <Process Name="OnRiderUnloading" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Transporter.OnRiderUnloading" BeginStepID="4">
      <Properties />
      <Steps>
        <Step Type="Decide" Name="IfVehicleKeptReserved" ExclusionExpression="Math.If(RoutingType == List.RobotHandRoutingType.FixedRoute, 2, 0)" ID="2">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">Capacity.ReservedTo(Entity)&gt;0 &amp;&amp; RideStation.Contents==1</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Assign" Name="PreferredOwner" ID="3">
          <Properties>
            <Property Name="StateVariableName">
              <Value>PreferredOwner</Value>
            </Property>
            <Property Name="NewValue">Entity</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnNewSeizeRequest.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">True</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
        </Step>
        <Step Type="Execute" Name="UnloadingPosition" ID="4">
          <Properties>
            <Property Name="ProcessName">
              <Value>MoveHandToDropoffAngle</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="2" />
        </Step>
      </Steps>
    </Process>
    <Process Name="OnRiderLoaded" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Transporter.OnRiderLoaded" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="EndTransfer" Name="OntoVehicle" ID="2">
          <Properties />
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Execute" Name="Loaded_AddOnProcess" ExclusionExpression="!LoadedAddOnProcess.HasValue" ID="3">
          <Properties>
            <Property Name="ProcessName">
              <Value>LoadedAddOnProcess</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Fire" Name="RiderLoadedEvent" ExclusionExpression="!LoadedAddOnProcess.HasValue" ID="4">
          <Properties>
            <Property Name="EventName">RiderLoaded</Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnRiderUnloaded" IsOverride="True" ShowAsUserExecutableProcess="False" InterfaceProcessID="Transporter.OnRiderUnloaded" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Execute" Name="Unloaded_AddOnProcess" ExclusionExpression="!UnloadedAddOnProcess.HasValue" ID="2">
          <Properties>
            <Property Name="ProcessName">
              <Value>UnloadedAddOnProcess</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Fire" Name="RiderUnloadedEvent" ExclusionExpression="!UnloadedAddOnProcess.HasValue" ID="3">
          <Properties>
            <Property Name="EventName">RiderUnloaded</Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="FailureOccurrenceLogic" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Fail" Name="Vehicle" ID="2">
          <Properties>
            <Property Name="FailureName">
              <Value>Failure</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Delay" Name="TimeToRepair" ID="3">
          <Properties>
            <Property Name="DelayTime">TimeToRepair</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Repair" Name="Vehicle" ID="4">
          <Properties>
            <Property Name="FailureName">
              <Value>Failure</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="5" />
        </Step>
        <Step Type="Fire" Name="ResetFailureTimer" ExclusionExpression="FailureType != List.RobotHandFailureType.CalendarTimeBased" ID="5">
          <Properties>
            <Property Name="EventName">CalendarTimeBasedFailuresReset</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="6" />
        </Step>
        <Step Type="Fire" Name="ResetFailureTimer" ExclusionExpression="FailureType != List.RobotHandFailureType.EventCountBased" ID="6">
          <Properties>
            <Property Name="EventName">EventCountBasedFailuresReset</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="7" />
        </Step>
        <Step Type="Seize" Name="Vehicle" ExclusionExpression="RoutingType == List.RobotHandRoutingType.OnDemand" ID="7">
          <Properties>
            <Property Name="OwnerType">ParentObject</Property>
            <Property Name="ResourceSeizes">
              <Rows>
                <Properties>
                  <Property Name="ResourceType">ParentObject</Property>
                  <Property Name="UnitsPerResource">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="8" />
        </Step>
        <Step Type="Allocate" Name="Vehicle" ExclusionExpression="Math.If(RoutingType == List.RobotHandRoutingType.OnDemand, 0, 2)" ID="8">
          <Properties>
            <Property Name="ResourceType">ParentObject</Property>
          </Properties>
          <Exit Name="Failed" Type="Alternate" NextID="9" />
        </Step>
        <Step Type="PlanVisit" Name="NewTransportRequests" ExclusionExpression="Math.If(RoutingType == List.RobotHandRoutingType.OnDemand, 0, 2)" ID="9">
          <Properties>
            <Property Name="SelectionGoal">TaskSelectionStrategy</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="9" />
        </Step>
      </Steps>
    </Process>
    <Process Name="OnFailed" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Assign" Name="OnFailedAssignments" ID="2">
          <Properties>
            <Property Name="StateVariableName">
              <Value>ResourceState</Value>
            </Property>
            <Property Name="NewValue">Math.If(ResourceState==List.ResourceStateName.OffShiftTransporting, List.ResourceStateName.OffShift, (ResourceState==List.ResourceStateName.OffShiftBusy)&amp;&amp;(VisitRequestQueue.NumberWaiting&gt;0),  List.ResourceStateName.OffShift, (Capacity&gt;0)&amp;&amp;(Capacity.Allocated&gt;0)&amp;&amp;(Capacity.AllocatedTo(ParentObject)==0)&amp;&amp;(VisitRequestQueue.NumberWaiting==0), List.ResourceStateName.FailedBusy, Capacity&gt;0, List.ResourceStateName.Failed, ResourceState)</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">False</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">False</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">False</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">False</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">False</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">False</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Suspend" Name="VehicleMovement" ID="3">
          <Properties>
            <Property Name="SuspendType">ObjectMovement</Property>
            <Property Name="ObjectType">ParentObject</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Suspend" Name="OnVisitingNodeProcess" ID="4">
          <Properties>
            <Property Name="ProcessName">
              <Value>OnVisitingNode</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="5" />
        </Step>
        <Step Type="Suspend" Name="FailureOccurrenceLogic" ExclusionExpression="!FailedAddOnProcess.HasValue &amp;&amp; !RepairingAddOnProcess.HasValue" ID="5">
          <Properties>
            <Property Name="ProcessName">
              <Value>FailureOccurrenceLogic</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="6" />
        </Step>
        <Step Type="Execute" Name="Failed_AddOnProcess" ID="6">
          <Properties>
            <Property Name="ProcessName">
              <Value>FailedAddOnProcess</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="7" />
        </Step>
        <Step Type="Execute" Name="Repairing_AddOnProcess" ID="7">
          <Properties>
            <Property Name="ProcessName">
              <Value>RepairingAddOnProcess</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="8" />
        </Step>
        <Step Type="Resume" Name="FailureOccurrenceLogic" ExclusionExpression="!FailedAddOnProcess.HasValue &amp;&amp; !RepairingAddOnProcess.HasValue" ID="8">
          <Properties>
            <Property Name="ProcessName">
              <Value>FailureOccurrenceLogic</Value>
            </Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnRepaired" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Assign" Name="OnRepairedAssignments" ID="2">
          <Properties>
            <Property Name="StateVariableName">
              <Value>ResourceState</Value>
            </Property>
            <Property Name="NewValue">Math.If((Capacity==0)&amp;&amp;(Capacity.AllocatedTo(ParentObject)&gt;0), List.ResourceStateName.OffShiftTransporting, (Capacity==0)&amp;&amp;(Capacity.Allocated&gt;0),  List.ResourceStateName.OffShiftBusy, ResourceState)</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">(ResourceState==List.ResourceStateName.Idle)||(ResourceState==List.ResourceStateName.Transporting &amp;&amp; (RideStation.Capacity &gt; RideStationLoad))</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderReservation.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">(ResourceState==List.ResourceStateName.Idle)||(ResourceState==List.ResourceStateName.Transporting &amp;&amp; (RideStation.Capacity &gt; RideStationLoad))</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingSeizeRequest.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.Enabled</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle || ResourceState==List.ResourceStateName.Transporting || ResourceState==List.ResourceStateName.OffShiftTransporting</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>OnEvaluatingRiderAtPickup.ReturnValue</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">ResourceState==List.ResourceStateName.Idle || ResourceState==List.ResourceStateName.Transporting || ResourceState==List.ResourceStateName.OffShiftTransporting</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Resume" Name="VehicleMovement" ID="3">
          <Properties>
            <Property Name="ResumeType">ObjectMovement</Property>
            <Property Name="ObjectType">ParentObject</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Resume" Name="OnVisitingNodeProcess" ID="4">
          <Properties>
            <Property Name="ProcessName">
              <Value>OnVisitingNode</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="5" />
        </Step>
        <Step Type="Execute" Name="Repaired_AddOnProcess" ID="5">
          <Properties>
            <Property Name="ProcessName">
              <Value>RepairedAddOnProcess</Value>
            </Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnMinimumDwellTimeExpired" BeginStepID="2">
      <Properties>
        <Property Name="TriggeringEventName">MinimumDwellTimeExpirationTimer.Event</Property>
      </Properties>
      <Steps>
        <Step Type="Assign" Name="MinimumDwellTimeExpiredFlag" ID="2">
          <Properties>
            <Property Name="StateVariableName">
              <Value>MinimumDwellTimeExpired</Value>
            </Property>
            <Property Name="NewValue">True</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
        <Step Type="UnSubscribe" Name="FromMinimumDwellTimeExpirationEvent" ExclusionExpression="MinimumDwellTimeType != List.RobotHandMinimumDwellTimeType.DwellUntilEvent" ID="3">
          <Properties>
            <Property Name="EventName">MinimumDwellTimeExpirationEventName</Property>
            <Property Name="ProcessName">
              <Value>OnMinimumDwellTimeExpired</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Fire" Name="RemainInPlaceEndedEvent" ID="4">
          <Properties>
            <Property Name="EventName">RemainInPlaceEnded</Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="MoveHandToDesiredPosition" BeginStepID="2">
      <Properties>
        <Property Name="AllowStepTrace">False</Property>
      </Properties>
      <Steps>
        <Step Type="Assign" Name="UpdateInterval" ID="2">
          <Properties>
            <Property Name="StateVariableName">
              <Value>HandUpdateTimeInterval</Value>
            </Property>
            <Property Name="NewValue">MyBase.Robot.MyRotator.RobotRotator.DegreesRotationPerUpdate / RobotHand.PitchChangeRate</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Assign" Name="RemainngUpdates" ID="3">
          <Properties>
            <Property Name="StateVariableName">
              <Value>HandServoUpdatesRemaining</Value>
            </Property>
            <Property Name="NewValue">Math.Abs(Movement.Pitch - DesiredPitch) / (RobotHand.PitchChangeRate * HandUpdateTimeInterval * 3600)</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Decide" Name="UpdatesRemaining" ID="4">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">HandServoUpdatesRemaining &gt;= 1</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="5" />
          <Exit Name="False" Type="Alternate" NextID="7" />
        </Step>
        <Step Type="Delay" Name="UpdateInterval" ID="5">
          <Properties>
            <Property Name="DelayTime" Units="Seconds">HandUpdateTimeInterval</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="6" />
        </Step>
        <Step Type="Assign" Name="PitchUpdate" ID="6">
          <Properties>
            <Property Name="StateVariableName">
              <Value>Movement.Pitch</Value>
            </Property>
            <Property Name="NewValue">Math.If(DesiredPitch &gt; Movement.Pitch, RobotHand.PitchChangeRate, -RobotHand.PitchChangeRate) * HandUpdateTimeInterval * 3660</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>HandServoUpdatesRemaining</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">HandServoUpdatesRemaining - 1</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>MyBase.Robot.SinPitchHand</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">Math.Sin(Movement.Pitch * Math.PI / 180) </Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>MyBase.Robot.CosPitchHand</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">Math.Cos(Movement.Pitch * Math.PI / 180) </Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Assign" Name="FinalPitch" ID="7">
          <Properties>
            <Property Name="StateVariableName">
              <Value>Movement.Pitch</Value>
            </Property>
            <Property Name="NewValue">DesiredPitch</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>MyBase.Robot.SinPitchHand</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">Math.Sin(Movement.Pitch * Math.PI / 180) </Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>MyBase.Robot.CosPitchHand</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">Math.Cos(Movement.Pitch * Math.PI / 180) </Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>MidPointOffsetFloorLength</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">MidPointOffset * MyBase.Robot.CosPitchHand</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="MoveHandToDropoffAngle" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Decide" Name="DropoffAngle" ID="2">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">UnloadingPitchAngle != Movement.Pitch</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Assign" Name="DesiredPitch" ID="3">
          <Properties>
            <Property Name="StateVariableName">
              <Value>DesiredPitch</Value>
            </Property>
            <Property Name="NewValue">UnloadingPitchAngle</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Execute" Name="MoveHand" ID="4">
          <Properties>
            <Property Name="ProcessName">
              <Value>MoveHandToDesiredPosition</Value>
            </Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="MoveHandToPickupAngle" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Decide" Name="PickupAngle" ID="2">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">LoadingPitchAngle != Movement.Pitch</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Execute" Name="MoveHand" ID="3">
          <Properties>
            <Property Name="ProcessName">
              <Value>MoveHandToDesiredPosition</Value>
            </Property>
          </Properties>
        </Step>
        <Step Type="Assign" Name="DesiredPitch" ID="4">
          <Properties>
            <Property Name="StateVariableName">
              <Value>DesiredPitch</Value>
            </Property>
            <Property Name="NewValue">LoadingPitchAngle</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
      </Steps>
    </Process>
    <Process Name="MoveHandToTravelAngle" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Decide" Name="TravelAngle" ID="2">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">TravelPitchAngle != Movement.Pitch</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Execute" Name="MoveHand" ID="3">
          <Properties>
            <Property Name="ProcessName">
              <Value>MoveHandToDesiredPosition</Value>
            </Property>
          </Properties>
        </Step>
        <Step Type="Assign" Name="DesiredPitch" ID="4">
          <Properties>
            <Property Name="StateVariableName">
              <Value>DesiredPitch</Value>
            </Property>
            <Property Name="NewValue">TravelPitchAngle</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
      </Steps>
    </Process>
    <Process Name="TravelToNode" ShowAsUserExecutableProcess="False" BeginStepID="10">
      <Properties>
        <Property Name="TokenActionOnAssociatedObjectDestroyed">EndProcess</Property>
        <Property Name="TokenActionOnAssociatedObjectTransferRequested">EndProcess</Property>
      </Properties>
      <Steps>
        <Step Type="Execute" Name="TravelHandPosition" ID="2">
          <Properties>
            <Property Name="ProcessName">
              <Value>MoveHandToTravelAngle</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="12" />
        </Step>
        <Step Type="Decide" Name="TravelMode" ID="3">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">MyBase.Robot.TravelMode == List.TravelModes.Direct</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="4" />
          <Exit Name="False" Type="Alternate" NextID="6" />
        </Step>
        <Step Type="Assign" Name="DesiredLocation" ID="4">
          <Properties>
            <Property Name="StateVariableName">
              <Value>MyBase.Robot.DesiredX</Value>
            </Property>
            <Property Name="NewValue">DestinationNode.Location.X - MidPointOffsetFloorLength * MyBase.Robot.CosDesiredHeading</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>MyBase.Robot.DesiredY</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">DestinationNode.Location.Y - MidPointOffset * MyBase.Robot.SinPitchHand</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>MyBase.Robot.DesiredZ</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">DestinationNode.Location.Z - MidPointOffsetFloorLength * MyBase.Robot.SinDesiredHeading</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="5" />
        </Step>
        <Step Type="Execute" Name="Travel" ID="5">
          <Properties>
            <Property Name="ProcessName">
              <Value>MyBase.Robot.MoveToDesiredPosition</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="11" />
        </Step>
        <Step Type="Assign" Name="DesiredLocation" ID="6">
          <Properties>
            <Property Name="StateVariableName">
              <Value>MyBase.Robot.DesiredX</Value>
            </Property>
            <Property Name="NewValue">Location.X</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>MyBase.Robot.DesiredY</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">MyBase.Robot.TravelHeight</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>MyBase.Robot.DesiredZ</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">Location.Z</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="7" />
        </Step>
        <Step Type="Execute" Name="Travel" ID="7">
          <Properties>
            <Property Name="ProcessName">
              <Value>MyBase.Robot.MoveToDesiredPosition</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="8" />
        </Step>
        <Step Type="Assign" Name="DesiredLocation" ID="8">
          <Properties>
            <Property Name="StateVariableName">
              <Value>MyBase.Robot.DesiredX</Value>
            </Property>
            <Property Name="NewValue">DestinationNode.Location.X</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>MyBase.Robot.DesiredY</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">MyBase.Robot.TravelHeight</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>MyBase.Robot.DesiredZ</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">DestinationNode.Location.Z</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="9" />
        </Step>
        <Step Type="Execute" Name="Travel" ID="9">
          <Properties>
            <Property Name="ProcessName">
              <Value>MyBase.Robot.MoveToDesiredPosition</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="4" />
        </Step>
        <Step Type="Assign" Name="Travelling" ID="10">
          <Properties>
            <Property Name="StateVariableName">
              <Value>Travelling</Value>
            </Property>
            <Property Name="NewValue">True</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="2" />
        </Step>
        <Step Type="Assign" Name="NotTravelling" ID="11">
          <Properties>
            <Property Name="StateVariableName">
              <Value>Travelling</Value>
            </Property>
            <Property Name="NewValue">False</Property>
          </Properties>
        </Step>
        <Step Type="Assign" Name="DesiredLocation" ID="12">
          <Properties>
            <Property Name="StateVariableName">
              <Value>MyBase.Robot.DesiredX</Value>
            </Property>
            <Property Name="NewValue">DestinationNode.Location.X</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>MyBase.Robot.DesiredZ</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">DestinationNode.Location.Z</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="13" />
        </Step>
        <Step Type="Execute" Name="ComputeDesiredHeading" ID="13">
          <Properties>
            <Property Name="ProcessName">
              <Value>MyBase.Robot.ComputeHeading</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="3" />
        </Step>
      </Steps>
    </Process>
    <Process Name="OnEnteredFreeSpaceTransfer" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Transfer" Name="ToDestinationNode" ID="2">
          <Properties>
            <Property Name="NodeName">DestinationNode</Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="OnRiderReservationAcceptedTransfer" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="Transfer" Name="ToDestinationNode" ID="2">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="NodeName">DestinationNode</Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
    <Process Name="SelectVisitAndMoveToDestination" BeginStepID="2">
      <Properties />
      <Steps>
        <Step Type="SelectVisit" Name="ToAcceptedDestination" ID="2">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
            <Property Name="SelectionGoal">TaskSelectionStrategy</Property>
          </Properties>
          <Exit Name="OK" Type="Primary" NextID="3" />
        </Step>
        <Step Type="Decide" Name="IfInFreeSpace" ID="3">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">(CurrentNode==Nothing)&amp;&amp;(CurrentLink==Nothing)&amp;&amp;(CurrentStation==Nothing)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="4" />
          <Exit Name="False" Type="Alternate" NextID="8" />
        </Step>
        <Step Type="Execute" Name="TravelToNode" ID="4">
          <Properties>
            <Property Name="ProcessName">
              <Value>TravelToNode</Value>
            </Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="5" />
        </Step>
        <Step Type="Execute" Name="TransferlToNode" ID="5">
          <Properties>
            <Property Name="ProcessName">
              <Value>OnRiderReservationAcceptedTransfer</Value>
            </Property>
            <Property Name="TokenWaitAction">NoWait</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="6" />
        </Step>
        <Step Type="Delay" Name="Epsilon" ID="6">
          <Properties>
            <Property Name="DelayTime">Math.Epsilon</Property>
          </Properties>
          <Exit Name="Exit" Type="Primary" NextID="7" />
        </Step>
        <Step Type="Assign" Name="HandLocation" ID="7">
          <Properties>
            <Property Name="StateVariableName">
              <Value>Movement.X</Value>
            </Property>
            <Property Name="NewValue">MyBase.Robot.MyUpperArm.RobotLowerArm.EndJointX + MidPointOffsetFloorLength * MyBase.Robot.CosHeading</Property>
            <Property Name="Assignments">
              <Rows>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>Movement.Y</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">MyBase.Robot.MyUpperArm.RobotLowerArm.EndJointY + MidPointOffset * MyBase.Robot.SinPitchHand</Property>
                </Properties>
                <Properties>
                  <Property Name="AssignmentsStateVariableName">
                    <Value>Movement.Z</Value>
                  </Property>
                  <Property Name="AssignmentsNewValue">MyBase.Robot.MyUpperArm.RobotLowerArm.EndJointZ + MidPointOffsetFloorLength * MyBase.Robot.SinHeading</Property>
                </Properties>
              </Rows>
            </Property>
          </Properties>
        </Step>
        <Step Type="Decide" Name="IfUnpark" ID="8">
          <Properties>
            <Property Name="DecideType">ConditionBased</Property>
            <Property Name="ConditionOrProbability">IsParked &amp;&amp; (OnVisitingNode.NumberTokensInProcess==0)</Property>
          </Properties>
          <Exit Name="True" Type="Primary" NextID="9" />
          <Exit Name="False" Type="Alternate" NextID="10" />
        </Step>
        <Step Type="UnPark" Name="Vehicle" ID="9">
          <Properties>
            <Property Name="EntityType">ParentObject</Property>
          </Properties>
        </Step>
        <Step Type="Fire" Name="RemainInPlaceEndedEvent" ID="10">
          <Properties>
            <Property Name="EventName">RemainInPlaceEnded</Property>
          </Properties>
        </Step>
      </Steps>
    </Process>
  </Processes>
  <Tokens>
    <Token Name="FreeSpaceSteeringToken">
      <States>
        <ElementReferenceState Name="NetworkPathNextLink" ElementType="Link" />
        <ElementReferenceState Name="NetworkPathNextNode" ElementType="Node" />
        <BooleanState Name="EnteredFreeSpaceFromNode" />
      </States>
    </Token>
  </Tokens>
  <External>
    <Graphics>
      <Queue Queue="RideStation.Contents" ExternallyVisible="True" RotationChangesLocation="False" RotationChangesOrientation="False">
        <Points>
          <Point Location="0.747452501600839 -0.0274646514530739 0.026969358238891" />
          <Point Location="-0.0393920501856622 -0.0274646514530739 0.0323220422646495" />
        </Points>
      </Queue>
      <SymbolInstance Center="0 -0.0689281453688301 0" ExternallyVisible="True">
        <SymbolRef Id="a916a281-23e0-4cff-93e1-3b1be74af3d4" />
      </SymbolInstance>
      <DefaultAdditionalSymbols>
        <DefaultAdditionalSymbol Index="0">
          <SymbolInstance Center="0 0 0" ExternallyVisible="True">
            <SymbolRef Id="[UseExternalSymbol]" />
          </SymbolInstance>
        </DefaultAdditionalSymbol>
        <DefaultAdditionalSymbol Index="1">
          <SymbolInstance Center="0 0 0" ExternallyVisible="True">
            <SymbolRef Id="[UseExternalSymbol]" />
          </SymbolInstance>
        </DefaultAdditionalSymbol>
        <DefaultAdditionalSymbol Index="2">
          <SymbolInstance Center="0 0 0" ExternallyVisible="True">
            <SymbolRef Id="[UseExternalSymbol]" />
          </SymbolInstance>
        </DefaultAdditionalSymbol>
        <DefaultAdditionalSymbol Index="3">
          <SymbolInstance Center="0 0 0" ExternallyVisible="True">
            <SymbolRef Id="[UseExternalSymbol]" />
          </SymbolInstance>
        </DefaultAdditionalSymbol>
        <DefaultAdditionalSymbol Index="4">
          <SymbolInstance Center="0 0 0" ExternallyVisible="True">
            <SymbolRef Id="[UseExternalSymbol]" />
          </SymbolInstance>
        </DefaultAdditionalSymbol>
        <DefaultAdditionalSymbol Index="5">
          <SymbolInstance Center="0 0 0" ExternallyVisible="True">
            <SymbolRef Id="[UseExternalSymbol]" />
          </SymbolInstance>
        </DefaultAdditionalSymbol>
        <DefaultAdditionalSymbol Index="6">
          <SymbolInstance Center="0 0 0" ExternallyVisible="True">
            <SymbolRef Id="[UseExternalSymbol]" />
          </SymbolInstance>
        </DefaultAdditionalSymbol>
        <DefaultAdditionalSymbol Index="7">
          <SymbolInstance Center="0 0 0" ExternallyVisible="True">
            <SymbolRef Id="[UseExternalSymbol]" />
          </SymbolInstance>
        </DefaultAdditionalSymbol>
        <DefaultAdditionalSymbol Index="8">
          <SymbolInstance Center="0 0 0" ExternallyVisible="True">
            <SymbolRef Id="[UseExternalSymbol]" />
          </SymbolInstance>
        </DefaultAdditionalSymbol>
        <DefaultAdditionalSymbol Index="9">
          <SymbolInstance Center="0 0 0" ExternallyVisible="True">
            <SymbolRef Id="[UseExternalSymbol]" />
          </SymbolInstance>
        </DefaultAdditionalSymbol>
      </DefaultAdditionalSymbols>
      <PadBoundingBoxForSymbol Value="True" />
      <OffsetDynamicRelativeToExternalBounds Value="False" />
    </Graphics>
  </External>
  <SaveHistories>
    <SaveHistory SavedDateTime="2022-04-08T16:34:29" ProductVersion="14.237.26883.0" Edition="Internal" />
    <SaveHistory SavedDateTime="2022-04-15T17:20:18" ProductVersion="14.238.26915.0" Edition="Internal" />
    <SaveHistory SavedDateTime="2022-04-27T21:20:09" ProductVersion="14.238.27085.0" Edition="RPS" />
  </SaveHistories>
  <Graphics>
    <AnimationSetup MinimumNumberOfFramesToDisplayIdleAnimation="10" />
  </Graphics>
</Fragment>
<!-- YntW3ExPfYBZdzbC1+7hCc3j/Px6+xwYshVmQhhK/nCZLg1A+ZqXmawjUOrlrUhnDMNptc45XeE9gwVU6nKcXQ== -->